"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[74819],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>h});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var d=n.createContext({}),s=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},p=function(t){var e=s(t.components);return n.createElement(d.Provider,{value:e},t.children)},m="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,d=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),m=s(a),u=r,h=m["".concat(d,".").concat(u)]||m[u]||c[u]||i;return a?n.createElement(h,o(o({ref:e},p),{},{components:a})):n.createElement(h,o({ref:e},p))}));function h(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var d in e)hasOwnProperty.call(e,d)&&(l[d]=e[d]);l.originalType=t,l[m]="string"==typeof t?t:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},96785:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const i={title:"OAuth SP",category:"Campaign",weight:1},o=void 0,l={unversionedId:"management/sso-oauth-sp",id:"management/sso-oauth-sp",title:"OAuth SP",description:"The OAuth SP screen allows you to view, add, and update the OAuth SP settings for your site.",source:"@site/docs/management/sso-oauth-sp.md",sourceDirName:"management",slug:"/management/sso-oauth-sp",permalink:"/docs/management/sso-oauth-sp",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/management/sso-oauth-sp.md",tags:[],version:"current",frontMatter:{title:"OAuth SP",category:"Campaign",weight:1},sidebar:"documentationSidebar",previous:{title:"SAML SP",permalink:"/docs/management/sso-saml-sp"},next:{title:"IDaaS SP",permalink:"/docs/management/sso-idaas-sp"}},d={},s=[{value:"OAuth SP list",id:"oauth-sp-list",level:2},{value:"Accessing the screen",id:"accessing-the-screen",level:3},{value:"Field descriptions",id:"field-descriptions",level:3},{value:"OAuth SP editor",id:"oauth-sp-editor",level:2},{value:"Accessing the screen",id:"accessing-the-screen-1",level:3},{value:"Item descriptions",id:"item-descriptions",level:3},{value:"OAuth SP editor",id:"oauth-sp-editor-1",level:4},{value:"Actions",id:"actions",level:4},{value:"Additional settings",id:"additional-settings",level:3},{value:"OAuth SP editor",id:"oauth-sp-editor-2",level:4},{value:"Token and resource request settings",id:"token-and-resource-request-settings",level:4},{value:"Related documents",id:"related-documents",level:2}],p={toc:s},m="wrapper";function c(t){let{components:e,...a}=t;return(0,r.kt)(m,(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The OAuth SP screen allows you to view, add, and update the OAuth SP settings for your site."),(0,r.kt)("h2",{id:"oauth-sp-list"},"OAuth SP list"),(0,r.kt)("h3",{id:"accessing-the-screen"},"Accessing the screen"),(0,r.kt)("p",null,'In the left sidebar menu, under "SETTINGS", click ',"[External system integration]"," -> ","[OAuth SP]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/90c7a7542aacf64d574c4cbe2daf88a0.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/90c7a7542aacf64d574c4cbe2daf88a0.png",alt:"Image from Gyazo"})),(0,r.kt)("h3",{id:"field-descriptions"},"Field descriptions"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e199939f409c1d8d3eedb1dc8fa3ef2c.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e199939f409c1d8d3eedb1dc8fa3ef2c.png",alt:"Image from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabled"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Status of the OAuth SP.",(0,r.kt)("br",null),(0,r.kt)("img",{parentName:"td",src:"https://t.gyazo.com/teams/diverta/4b30584bb33c116421c1795f6bd0ceef.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4b30584bb33c116421c1795f6bd0ceef.png",alt:"Image (fetched from Gyazo)"}),": Enabled",(0,r.kt)("br",null),(0,r.kt)("img",{parentName:"td",src:"https://t.gyazo.com/teams/diverta/9527261cd42b8bba3cb67821e783fa04.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/9527261cd42b8bba3cb67821e783fa04.png",alt:"Image (fetched from Gyazo)"}),": Disabled")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Login OAuth SP name"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the OAuth SP.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Type of OAuth SP.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Updated on"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Date and time of last update to the OAuth SP.")))),(0,r.kt)("h2",{id:"oauth-sp-editor"},"OAuth SP editor"),(0,r.kt)("h3",{id:"accessing-the-screen-1"},"Accessing the screen"),(0,r.kt)("p",null,'In the left sidebar menu, under "SETTINGS", click ',"[External system integration]"," -> ","[OAuth SP]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/90c7a7542aacf64d574c4cbe2daf88a0.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/90c7a7542aacf64d574c4cbe2daf88a0.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"On the OAuth SP list screen, click the name of the OAuth SP you want to edit."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/b1e8c22e40631581750ca3a6445e5c79.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/b1e8c22e40631581750ca3a6445e5c79.png",alt:"Image from Gyazo"})),(0,r.kt)("h3",{id:"item-descriptions"},"Item descriptions"),(0,r.kt)("h4",{id:"oauth-sp-editor-1"},"OAuth SP editor"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/ccbc1b1e94b45533ddd4bc6c6828036e.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/ccbc1b1e94b45533ddd4bc6c6828036e.png",alt:"Image from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Login OAuth SP name"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Name of the OAuth SP. Check the "Enable" box to enable the current settings.',(0,r.kt)("br",null),"(Note: The test function can be used even if the OAuth SP settings are disabled.)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Target domain"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Target domain of the OAuth SP (admin panel URL or API domain).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Service that will use the OAuth SP login.",(0,r.kt)("ul",null,(0,r.kt)("li",null,"If you select the ",(0,r.kt)("inlineCode",{parentName:"td"},"Custom")," option, see: ",(0,r.kt)("a",{parentName:"td",href:"#additional-settings"},"Additional settings")," for more information.")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Login URL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL for the user login.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Client ID"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Security ID obtained when creating a new OAuth application with the identity provider.",(0,r.kt)("br",null),"(Note: Store your client ID in a safe place, and do not use the same client ID for multiple providers.)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Client secret"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Security key obtained when creating a new OAuth application with the identity provider. Store your client secret in a safe place.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Use Private URL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabling ","[Allow private IPs for return URL domains]"," allows you to set URLs such as ",(0,r.kt)("inlineCode",{parentName:"td"},"http://(your IP address)")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"http://localhost:3000/")," as the return URL.",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Warning: This setting should only be used during development and is not recommended in live operations for security purposes.")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Return URL (success)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL that user will be redirected to upon successfully logging in.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Return URL (error)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL that user will be redirected to if login fails.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Automatic user registration"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Option to enable automatic registration. Disabling this option redirects all unregistered users to the return URL (error) when they try to log in via SSO.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Store the ID in member ext col and link without using email"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If enabled, the OpenID from the identity provider will be used to authenticate the user.",(0,r.kt)("br",null),"(Note: Once this setting has been configured, do not change it again, as it may prevent users from logging in.)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Save user access token"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabling this option stores the users' access tokens in the database for future logins. Any refresh tokens from the identity provider will also be stored. Tokens will be refreshed each time the user logs in.")))),(0,r.kt)("h4",{id:"actions"},"Actions"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/3491270d823d9793c6a44469f5542fb4.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/3491270d823d9793c6a44469f5542fb4.png",alt:"fetched from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Button"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Update"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Apply all changes made on this screen.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Test"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Test the OAuth SP settings to verify the fields that contain the necessary data. Click update to save the entered data before executing a test.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Delete"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Delete the current OAuth SP.")))),(0,r.kt)("h3",{id:"additional-settings"},"Additional settings"),(0,r.kt)("p",null,"If you select ",(0,r.kt)("inlineCode",{parentName:"p"},"Custom")," for the OAuth SP type, enter the settings for your identity provider of choice in the additional fields that appear. Most of these settings can be found in the documentations of the identity provider. "),(0,r.kt)("h4",{id:"oauth-sp-editor-2"},"OAuth SP editor"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Authorize URL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL to which the user will be redirected for sign in. This is obtained from the identity provider.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Token URL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL used to obtain the access token for the code. This is obtained from the identity provider.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Resource URL"),(0,r.kt)("td",{parentName:"tr",align:"left"},"URL used to obtain login credentials via an access token. This is obtained from the identity provider.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"IdP mapping with registration fields"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enter the user's first and last names for IdP mapping.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Required data scope"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Scope of data to be requested from the identity provider. To configure multiple scopes, click ","[Add]",".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Scope separator"),(0,r.kt)("td",{parentName:"tr",align:"left"},"For multiple scopes, specify the scope separator. You can find this information in the documentation of the identity provider. By default, the comma ",(0,r.kt)("inlineCode",{parentName:"td"},",")," is used, but you may choose from a list of options depending on the provider.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Send client secret in basic auth header"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Option to send the client secret in the basic authentication header. When unchecked, it will be sent in the URL parameter. You can find this setting in the documentation of the identity provider. If you are unsure, leave the box unchecked.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Do not send authorization prompt parameter"),(0,r.kt)("td",{parentName:"tr",align:"left"},"When this option is enabled, the authorization prompt query will not be sent with the request. You can find this setting in the documentation of the identity provider. If you are unsure, leave the box unchecked.")))),(0,r.kt)("h4",{id:"token-and-resource-request-settings"},"Token and resource request settings"),(0,r.kt)("p",null,"Click ","[Set up]"," to expand this section."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/3355ee6ca1483bea034e9277228aa441.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/3355ee6ca1483bea034e9277228aa441.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/92095707001c6f2d36313314db27cb11.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/92095707001c6f2d36313314db27cb11.png",alt:"fetched from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Request type"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Type of request sent to the identity provider. The default value is ",(0,r.kt)("inlineCode",{parentName:"td"},"GET"),". If your identity provider requires POST requests, specify it here.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Do not send access token in header"),(0,r.kt)("td",{parentName:"tr",align:"left"},"When this option is enabled, one or more parameters must be specified to send the access token.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Send additional parameter(s)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify the parameter key and value to be sent in the request. Some identity providers may require additional parameters.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Resource key from IdP"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify the key for mapping the response from the identity provider and the column in the t_member_header table the data will be mapped onto.")))),(0,r.kt)("h2",{id:"related-documents"},"Related documents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/tutorials/implementing-oauth-sp-based-sso/"},"Implementing OAuth SP-based SSO"))))}c.isMDXComponent=!0}}]);