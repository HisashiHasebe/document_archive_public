"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[28717],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>f});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),c=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=c(t.components);return n.createElement(s.Provider,{value:e},t.children)},d="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,o=t.originalType,s=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),d=c(a),u=r,f=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return a?n.createElement(f,i(i({ref:e},p),{},{components:a})):n.createElement(f,i({ref:e},p))}));function f(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[d]="string"==typeof t?t:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},27911:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const o={title:"Creating a custom function endpoint",description:"With custom functions, you can freely add processes that may be difficult to implement using only the standard API endpoint functions. This in turn enables you to respond flexibly to a variety of use cases."},i=void 0,l={unversionedId:"tutorials/creating-a-custom-function-endpoint",id:"tutorials/creating-a-custom-function-endpoint",title:"Creating a custom function endpoint",description:"With custom functions, you can freely add processes that may be difficult to implement using only the standard API endpoint functions. This in turn enables you to respond flexibly to a variety of use cases.",source:"@site/docs/tutorials/creating-a-custom-function-endpoint.md",sourceDirName:"tutorials",slug:"/tutorials/creating-a-custom-function-endpoint",permalink:"/docs/tutorials/creating-a-custom-function-endpoint",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/creating-a-custom-function-endpoint.md",tags:[],version:"current",frontMatter:{title:"Creating a custom function endpoint",description:"With custom functions, you can freely add processes that may be difficult to implement using only the standard API endpoint functions. This in turn enables you to respond flexibly to a variety of use cases."},sidebar:"documentationSidebar",previous:{title:"Implementing a search function",permalink:"/docs/tutorials/implement-a-search-function"},next:{title:"Dynamically Changing API Response with Login User Information",permalink:"/docs/tutorials/change-the-api-response-with-the-logged-in-users-information"}},s={},c=[{value:"Advantages of custom functions",id:"advantages-of-custom-functions",level:2},{value:"<code>GET</code> endpoint and custom function",id:"get-endpoint-and-custom-function",level:2},{value:"Create your <code>GET</code> endpoint",id:"create-your-get-endpoint",level:3},{value:"Create your custom function",id:"create-your-custom-function",level:3},{value:"Verify the <code>GET</code> endpoint activity",id:"verify-the-get-endpoint-activity",level:3},{value:"<code>POST</code> endpoint and custom function",id:"post-endpoint-and-custom-function",level:2},{value:"Create your <code>POST</code> endpoint",id:"create-your-post-endpoint",level:3},{value:"Create your custom function",id:"create-your-custom-function-1",level:3},{value:"Verify the <code>POST</code> endpoint activity",id:"verify-the-post-endpoint-activity",level:3},{value:"Adding Custom Request Variables",id:"adding-custom-request-variables",level:3},{value:"Returning Success and Error Messages",id:"returning-success-and-error-messages",level:4},{value:"Implementation of custom functions",id:"implementation-of-custom-functions",level:2}],p={toc:c},d="wrapper";function m(t){let{components:e,...a}=t;return(0,r.kt)(d,(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Kuroco allows you to create endpoints for custom functions."),(0,r.kt)("h2",{id:"advantages-of-custom-functions"},"Advantages of custom functions"),(0,r.kt)("p",null,"With custom functions, you can freely add processes that may be difficult to implement using only the standard API endpoint functions. This in turn enables you to respond flexibly to a variety of use cases like the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Update request/response content"),(0,r.kt)("li",{parentName:"ul"},"Hook a function to an API"),(0,r.kt)("li",{parentName:"ul"},"Implement your own security measures")),(0,r.kt)("p",null,"This tutorial explains how to link your endpoints to custom functions."),(0,r.kt)("h2",{id:"get-endpoint-and-custom-function"},(0,r.kt)("inlineCode",{parentName:"h2"},"GET")," endpoint and custom function"),(0,r.kt)("p",null,"First, we will create a sample ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," endpoint, and then link it with a custom function named ",(0,r.kt)("inlineCode",{parentName:"p"},"PlainCustomFunction"),"."),(0,r.kt)("h3",{id:"create-your-get-endpoint"},"Create your ",(0,r.kt)("inlineCode",{parentName:"h3"},"GET")," endpoint"),(0,r.kt)("p",null,"On your endpoint list screen, click ","[Add new endpoint]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/dffd211f0740b24f930e99a128547e67.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/dffd211f0740b24f930e99a128547e67.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Configure the settings dialog as follows:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/b3038c254612c654fba0429bb0ec1db5.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/b3038c254612c654fba0429bb0ec1db5.png",alt:"Image from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field(s)"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Sub-field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Input"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Path"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"plain-custom-endpoint"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabled/Disabled"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabled")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Model"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Category"),(0,r.kt)("td",{parentName:"tr",align:"left"},"API")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Model"),(0,r.kt)("td",{parentName:"tr",align:"left"},"API")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Operation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"request_api")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Summary (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunction"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter a clear name for your endpoint here. We recommend using the name of your custom function."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Description (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"GET endpoint for PlainCustomFunction."),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter a clear description for your endpoint here. We recommend briefly explaining the purpose of your function."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Basic settings"),(0,r.kt)("td",{parentName:"tr",align:"left"},"name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunction"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter the slug of your custom function here."))))),(0,r.kt)("p",null,"When you are done, click ","[Add]"," to save the settings."),(0,r.kt)("h3",{id:"create-your-custom-function"},"Create your custom function"),(0,r.kt)("p",null,"Next, navigate to the Custom function list screen, and click ","[Add]"," in the upper right corner."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/cd4a1349ce9bab9644ac19f2cb79acf5.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/cd4a1349ce9bab9644ac19f2cb79acf5.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Configure the Custom function editor as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field(s)"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Input"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Title"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunction"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Category"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Uncategorized")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Identifier"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunction"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Process"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Theme: Visual Studio"),(0,r.kt)("li",null,"Language: Kuroco Smarty")),"*",(0,r.kt)("em",{parentName:"td"},"Paste the source code below into the text area."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Publish")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php",metastring:"[source code]","[source":!0,"code]":!0},'{assign var="data" value=\u201dHello!"}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/8fc8c6529376fcc1d5c092a66237089e.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/8fc8c6529376fcc1d5c092a66237089e.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"When you are done, click ","[Add]"," to save the settings."),(0,r.kt)("h3",{id:"verify-the-get-endpoint-activity"},"Verify the ",(0,r.kt)("inlineCode",{parentName:"h3"},"GET")," endpoint activity"),(0,r.kt)("p",null,"Now, verify the behavior of your ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," endpoint from the Swagger UI screen."),(0,r.kt)("p",null,"On the endpoint list screen, click ","[Swagger UI]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/ae157ff2fb5e2ee313b0bca156c5c687.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/ae157ff2fb5e2ee313b0bca156c5c687.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Select ",(0,r.kt)("inlineCode",{parentName:"p"},"plain-custom-endpoint"),", which you created earlier."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/26d0214bedea3dcb2b89f024af50235d.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/26d0214bedea3dcb2b89f024af50235d.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Click ","[Try it out]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e37aca6ea70b7cc2ed95cef71e40d3b9.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e37aca6ea70b7cc2ed95cef71e40d3b9.png",alt:"Image from Gyazo"}),"  "),(0,r.kt)("p",null,"Then, click ","[Execute]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/90c6e79c7494a8258d8263b3fe7195d5.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/90c6e79c7494a8258d8263b3fe7195d5.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,'You should see the contents of the function displayed under "Response body".'),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/b6be0b94c5365c54a7645dcb3646ec4a.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/b6be0b94c5365c54a7645dcb3646ec4a.png",alt:"Image from Gyazo"})),(0,r.kt)("h2",{id:"post-endpoint-and-custom-function"},(0,r.kt)("inlineCode",{parentName:"h2"},"POST")," endpoint and custom function"),(0,r.kt)("p",null,"Now we will create a sample ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," endpoint and link it with the custom function ",(0,r.kt)("inlineCode",{parentName:"p"},"PlainCustomFunctionPost"),"."),(0,r.kt)("h3",{id:"create-your-post-endpoint"},"Create your ",(0,r.kt)("inlineCode",{parentName:"h3"},"POST")," endpoint"),(0,r.kt)("p",null,"Create your ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," endpoint "),(0,r.kt)("p",null,"On your endpoint list screen, click ","[Add new endpoint]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/dffd211f0740b24f930e99a128547e67.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/dffd211f0740b24f930e99a128547e67.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Configure the settings dialog as follows:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/b0062a816d45ff0d763e6cd37f317430.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/b0062a816d45ff0d763e6cd37f317430.png",alt:"Image from Gyazo"})),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field(s)"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Sub-field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Input"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Path"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"plain-custom-endpoint-post"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabled/Disabled"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enabled")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Model"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Category"),(0,r.kt)("td",{parentName:"tr",align:"left"},"API")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Model"),(0,r.kt)("td",{parentName:"tr",align:"left"},"API")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"Operation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"request_api_post")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Summary (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunctionPost"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter a clear name for your endpoint here. We recommend using the name of your custom function."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Description (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"POST endpoint for PlainCustomFunctionPost."),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter a clear description for your endpoint here. We recommend briefly explaining the purpose of your function."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Basic settings"),(0,r.kt)("td",{parentName:"tr",align:"left"},"name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunctionPost"),(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note: Enter the slug of your custom function here."))))),(0,r.kt)("p",null,"When you are done, click ","[Add]"," to save the settings."),(0,r.kt)("h3",{id:"create-your-custom-function-1"},"Create your custom function"),(0,r.kt)("p",null,"Next, navigate to the function list screen and click ","[Add]"," in the upper right corner."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/c6aeef02e7790cc3c56809b0b9caa879.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/c6aeef02e7790cc3c56809b0b9caa879.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Configure the function editor as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field(s)"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Input"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Title"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunctionPost"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Category"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Uncategorized")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Slug"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PlainCustomFunctionPost"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Process"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Theme: Visual Studio"),(0,r.kt)("li",null,"Language: Kuroco Smarty")),"*",(0,r.kt)("em",{parentName:"td"},"Paste the source code below into the text area."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Publish")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php",metastring:"[source code]","[source":!0,"code]":!0},'{assign var="message" value="Hello "|cat:$smarty.post.name}\n{assign var="data" value=$message}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4d58fb1f83173fc70e3c794ddde36cb2.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4d58fb1f83173fc70e3c794ddde36cb2.png",alt:"Image from Gyazo"})),(0,r.kt)("h3",{id:"verify-the-post-endpoint-activity"},"Verify the ",(0,r.kt)("inlineCode",{parentName:"h3"},"POST")," endpoint activity"),(0,r.kt)("p",null,"Now, verify the behavior of your ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," endpoint from the Swagger UI screen."),(0,r.kt)("p",null,"On the endpoint list screen, click ","[Swagger UI]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/ae157ff2fb5e2ee313b0bca156c5c687.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/ae157ff2fb5e2ee313b0bca156c5c687.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Select ",(0,r.kt)("inlineCode",{parentName:"p"},"plain-custom-endpoint-post"),", which you created earlier."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e42c659a21c9927964b20d1d799ffda1.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e42c659a21c9927964b20d1d799ffda1.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Click ","[Try it out]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/37790c9443c61ed57e7d47b54a5814a7.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/37790c9443c61ed57e7d47b54a5814a7.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"Set Response body as bellow."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Kuroco"\n}\n')),(0,r.kt)("p",null,"Then, click ","[Execute]","."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/250e183d16768c7f3aa8ccf31eb3093c.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/250e183d16768c7f3aa8ccf31eb3093c.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,'You should see the contents of the function displayed under "Response body".'),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/dfc35c5224f806a35ccc2df8c160c64e.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/dfc35c5224f806a35ccc2df8c160c64e.png",alt:"Image from Gyazo"})),(0,r.kt)("h3",{id:"adding-custom-request-variables"},"Adding Custom Request Variables"),(0,r.kt)("p",null,"The created endpoint, as mentioned above, can accept any custom request variables.",(0,r.kt)("br",{parentName:"p"}),"\n","To handle request variables within custom processing, use the following syntax:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GET variable: ",(0,r.kt)("inlineCode",{parentName:"li"},"$smarty.get.hoge")),(0,r.kt)("li",{parentName:"ul"},"POST variable: ",(0,r.kt)("inlineCode",{parentName:"li"},"$smarty.post.foo")),(0,r.kt)("li",{parentName:"ul"},"Cookie variable: ",(0,r.kt)("inlineCode",{parentName:"li"},"$smarty.cookie.bar"))),(0,r.kt)("p",null,"Furthermore, you can use a combined request variable that includes all three mentioned above:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Request variable: ",(0,r.kt)("inlineCode",{parentName:"li"},"$smarty.request.piyo"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php",metastring:"[Source Code]","[Source":!0,"Code]":!0},'{assign var="message" value="Hello "|cat:$smarty.request.name}\n{assign var="data" value=$message}\n')),(0,r.kt)("h4",{id:"returning-success-and-error-messages"},"Returning Success and Error Messages"),(0,r.kt)("p",null,"If you want to send error messages (",(0,r.kt)("inlineCode",{parentName:"p"},"errors"),") or success messages (",(0,r.kt)("inlineCode",{parentName:"p"},"messages"),") in the response, you can use the following syntax within your custom processing:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-smarty",metastring:"[Source Code]","[Source":!0,"Code]":!0},'{assign var="message" value="Hello "|cat:$smarty.post.name}\n{assign var="data" value=$message}\n{if $smarty.post.name|strlen > 10}\n    {append var="errors" value="name should be less than 10 characters."}\n{else}\n    {append var="messages" value="name is valid."}\n{/if}\n')),(0,r.kt)("p",null,"In this example, if the POST variable ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," contains a string with more than 10 characters, an error message is appended to the ",(0,r.kt)("inlineCode",{parentName:"p"},"errors")," variable. Otherwise, a success message is appended to the ",(0,r.kt)("inlineCode",{parentName:"p"},"messages")," variable in the response."),(0,r.kt)("p",null,"In the Swagger UI interface, provide the following Request body and click ","[Execute]"," to test it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Kuroco"\n}\n')),(0,r.kt)("p",null,"Execution result (success message):"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/252b5fed66e614c4a8353e94d8495f50.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/252b5fed66e614c4a8353e94d8495f50.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"You can confirm that a success message is returned in the response."),(0,r.kt)("p",null,"Next, provide the following Request body in the Swagger UI interface and click ","[Execute]"," to test it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "KurocoDiverta"\n}\n')),(0,r.kt)("p",null,"Execution result (error):"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/cb16431da0b385d05d1605c6025b9ab8.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/cb16431da0b385d05d1605c6025b9ab8.png",alt:"Image from Gyazo"})),(0,r.kt)("p",null,"You can confirm that an error message is returned in the response."),(0,r.kt)("p",null,"If you want to change the response status code, refer to the following article:\nRelated Article: ",(0,r.kt)("a",{parentName:"p",href:"/docs/tutorials/how-to-implement-original-validation-in-api-by-using-function/#changing-the-response-code-in-case-of-an-error"},"How to implement original validation in API by using custom function")),(0,r.kt)("h2",{id:"implementation-of-custom-functions"},"Implementation of custom functions"),(0,r.kt)("p",null,"This concludes the procedures for linking custom functions to API endpoints. For more information about the implementation such functions, refer to the tutorials below:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/tutorials/how-to-implement-original-validation-in-api-by-using-function/"},"How to implement original validation in API by using function")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/tutorials/setting-up-stubs-on-api-endpoints-using-custom-functions/"},"Setting up stubs on API endpoints using custom functions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/tutorials/how-to-overwrite-request-for-api-main-process-by-using-function/"},"rewrite request values passed to the API main process by using the original process"))))}m.isMDXComponent=!0}}]);