<!DOCTYPE html><html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/call-the-instagram-basic-display-api-from-kuroco"><head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Displaying Instagram feed using Instagram basic display API in Kuroco | 導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:image" content="https://kuroco.app/kuroco-card.png"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Displaying Instagram feed using Instagram basic display API in Kuroco | 導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS"><meta data-rh="true" name="description" content="Kuroco allows you to create your own custom APIs and also provides plug-ins that send requests to external APIs which allows you to use services that are not listed in the external system integration, this can be done using the custom function or batch process feature in Kuroco. We will be using the Instagram basic display API as an example in this tutorial."><meta data-rh="true" property="og:description" content="Kuroco allows you to create your own custom APIs and also provides plug-ins that send requests to external APIs which allows you to use services that are not listed in the external system integration, this can be done using the custom function or batch process feature in Kuroco. We will be using the Instagram basic display API as an example in this tutorial."><link data-rh="true" rel="icon" href="/img/icon_kurocoDocument.svg"><link data-rh="true" rel="canonical" href="https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/"><link data-rh="true" rel="alternate" href="https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/" hreflang="en"><link data-rh="true" rel="alternate" href="https://kuroco.app/ja/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PBPV4WW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.b0cacabf.css">
<link rel="preload" href="/assets/js/runtime~main.da1a0a86.js" as="script">
<link rel="preload" href="/assets/js/main.8624ea78.js" as="script">
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "isPartOf": {
        "@id": "https://kuroco.app/#website"
      },
      "@id": "https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco//#webpage",
      "url": "https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/",
      "name": "Displaying Instagram feed using Instagram basic display API in Kuroco",
      "description": "Kuroco allows you to create your own custom APIs and also provides plug-ins that send requests to external APIs which allows you to use services that are not listed in the external system integration, this can be done using the custom function or batch process feature in Kuroco. We will be using the Instagram basic display API as an example in this tutorial.",
      "inLanguage": "en",
      "datePublished": "2024-01-18T06:16:57.713Z",
      "dateModified": "2024-01-18T06:16:57.713Z",
      "breadcrumb": {
        "@id": "https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco//#breadcrumb"
      },
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": [
            "https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/"
          ]
        }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://kuroco.app/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco//#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "item": "https://kuroco.app/",
          "name": "Home"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "item": "https://kuroco.app/docs",
          "name": "Documentation"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "tutorials - call-the-instagram-basic-display-api-from-kuroco - Displaying Instagram feed using Instagram basic display API in Kuroco"
        }
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://kuroco.app/#website",
      "name": "導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS",
      "url": "https://kuroco.app/",
      "description": "Kuroco is enterprise Headless CMS for API-first development.",
      "publisher": {
        "@id": "https://kuroco.app/#organization"
      }
    },
    {
      "@type": "Organization",
      "@id": "https://kuroco.app/#organization",
      "name": "導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS",
      "url": "https://kuroco.app/",
      "sameAs": [
        "https://www.diverta.co.jp/"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "url": "https://www.diverta.co.jp/en/contact/"
      },
      "logo": {
        "@type": "ImageObject",
        "@id": "https://www.diverta.co.jp/#logo",
        "url": "https://kuroco.app/files/user/img/common/logo_Kuroco_black.svg",
        "contentUrl": "https://kuroco.app/files/user/img/common/logo_Kuroco_black.svg",
        "width": 155,
        "height": 56,
        "caption": "Diverta Inc."
      },
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "JP",
        "postalCode": "162-0823",
        "streetAddress": "Central Plaza 6F 1-1 Kaguragashi Shinjuku-ku, Tokyo, Japan"
      }
    }
  ]
}</script></head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBPV4WW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="z-[600] fixed h-screen w-full flex items-center justify-center invisible"><div><svg class="animate-spin h-40 w-40 text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-50" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="fill-primary" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://kuroco.app/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="Kuroco home" class="themedImage_ToTc themedImage--light_HNdA" height="37.5px"><img src="/img/logo_dark.svg" alt="Kuroco home" class="themedImage_ToTc themedImage--dark_i4oU" height="37.5px"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Home</a><a class="navbar__item navbar__link" href="/quick-guide/">Quick guide</a><a class="navbar__item navbar__link" href="/docs/about/about-kuroco/">About Kuroco</a><a class="navbar__item navbar__link" href="/docs/management/dashboard/">Admin Manual</a><a class="navbar__item navbar__link" href="/docs/about/support/">Support</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a class="navbar__item navbar__link" href="/docs/update/kuroco-roadmap/">Releases</a><a class="navbar__item navbar__link" href="/docs/about/sales/">Materials</a></div><div class="navbar__items navbar__items--right"><button type="button" class="button button--outline button--secondary py-3 px-3 border-0"><svg aria-hidden="true" class="w-5 h-5 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><span class="sr-only">Search</span></button><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/ja/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><div class="light"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/tutorials/beginners-guide/">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/beginners-guide/">Get started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/kuroco-sample-site/">kuroco-sample</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/adding-a-topics/">Content management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/difference-between-kurocofiles-and-kurocofront/">File management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/configure-endpoint/">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/connect-to-github-with-kuroco-front/">Kuroco Front</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-only-display-comments-that-are-addressed-to-a-specific-user/">Activity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/sending-notification-messages-to-users-who-submitted-form-responses/">Campaign</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-add-new-member/">Member management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/tutorials/how-to-use-batch/">Operation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-use-batch/">Batch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/tutorials/setting-up-stubs-on-api-endpoints-using-custom-functions/">Custom function</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/setting-up-stubs-on-api-endpoints-using-custom-functions/">Setting up stubs on API endpoints using custom functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-implement-original-validation-in-api-by-using-function/">How to implement original validation in API by using custom function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-implement-original-validation-in-contents-edit-by-using-function/">Implementing custom validation in Content Structure with Custom function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-overwrite-request-for-api-main-process-by-using-function/">Overwriting request values passed to API main processes using custom functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-implement-original-function-into-the-middle-of-processing-by-using-function/">Send automated notifications for new content using a custom function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-implement-original-function-into-the-postprocess/">Customize CSV data structure output using Custom Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/change-the-default-group-for-member-registration-depending-on-the-domain/">Specify the membership group based on the domain at the time of member registration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco/">Displaying Instagram feed using Instagram basic display API in Kuroco</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/deepl-api-auto-translation/">DeepL API auto tranlation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/send-chatwork-notification-after-a-form-has-been-submitted/">Sending Inquiry Notifications to Chatwork</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/use-any-email-delivery-service-to-send-emails-from-kuroco-mailchimp/">Using Any Email Delivery Service for Email Sending from Kuroco(Mailchimp)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/use-any-email-delivery-service-to-send-emails-from-kuroco-blastengine/">Using Any Email Delivery Service for Email Sending from Kuroco(blastengine)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/notify-by-email-when-specific-items-in-the-content-are-updated/">Notify by Email When a Specific Item in the Content is Updated</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/apply-css-to-a-kuroco-management-screen-with-the-plugin/">Environment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/using-gsuite-to-implement-saml-based-sso/">External system integration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/integrate-kuroco-with-nuxt/">Front-end</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/integrate-login/">My-page</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed theme-doc-sidebar-item-category-ec-tutorial"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/ec-management/">EC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/create-a-har-file/">Technical Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/starting-a-project-on-kuroco/">Project management</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/reference/endpoint-settings/">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/management/dashboard/">Admin panel user guide</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Operation</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Custom function</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Displaying Instagram feed using Instagram basic display API in Kuroco</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Displaying Instagram feed using Instagram basic display API in Kuroco</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>Kuroco allows you to create your own custom APIs and also provides plug-ins that send requests to external APIs which allows you to use services that are not listed in the external system integration, this can be done using the custom function or batch process feature in Kuroco. We will be using the Instagram basic display API as an example in this tutorial.</p><p>Kuroco has no built-in integration with Instagram in the external system integration menu but you can display the Instagram feed by sending a request to the Instagram basic display API with the <code>{api}</code> plugin.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-you-will-learn">What you will learn<a href="#what-you-will-learn" class="hash-link" aria-label="Direct link to What you will learn" title="Direct link to What you will learn">​</a></h3><p>We will display the Instagram feed with the following steps: </p><ul><li><a href="#instagram-settings">Instagram settings</a></li><li><a href="#kuroco-settings-setup">Kuroco settings (setup)</a></li><li><a href="#implement-authorization-feature-using-kuroco-and-nuxtjs">Implement authorization feature using Kuroco and Nuxt.js</a></li><li><a href="#periodically-get-the-instagram-feed-via-kuroco">Periodically get the Instagram feed via Kuroco</a></li><li><a href="#periodically-refresh-long-term-access-tokens-in-kuroco">Periodically refresh long-term access tokens in Kuroco</a></li><li><a href="#display-instagram-feed-using-kuroco-and-nuxtjs">Display Instagram feed using Kuroco and Nuxt.js</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>The following accounts are required before starting this tutorial:  </p><ul><li>Facebook developer account</li><li>Instagram account</li></ul><p>In addition, this tutorial assumes that you have already built a Nuxt.js project with Kuroco.
If you haven't built one yet, see the tutorial below.</p><ul><li><a href="/docs/tutorials/beginners-guide/">Beginner's guide to Kuroco</a></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The Instagram basic display API is implemented with reference to the <a href="https://developers.facebook.com/docs/instagram-basic-display-api" target="_blank" rel="noopener noreferrer">official document</a>.
If there are any discrepancies, refer to the lastest information in the official document instead.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="instagram-settings">Instagram settings<a href="#instagram-settings" class="hash-link" aria-label="Direct link to Instagram settings" title="Direct link to Instagram settings">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-facebook-app">Create Facebook app<a href="#create-facebook-app" class="hash-link" aria-label="Direct link to Create Facebook app" title="Direct link to Create Facebook app">​</a></h3><p>Access <a href="https://developers.facebook.com/apps/" target="_blank" rel="noopener noreferrer">developers.facebook.com/apps</a> and click <!-- -->[Create App]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/1427cfbe1d2065ae32a973a05a860a14.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1427cfbe1d2065ae32a973a05a860a14.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Select <!-- -->[None]<!-- --> for the type.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/9a1bca189a6f250f1bac06c6e8034ec6.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/9a1bca189a6f250f1bac06c6e8034ec6.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter the app name and click <!-- -->[Create app]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/49a8e43b66b6910c289373786db9b90f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/49a8e43b66b6910c289373786db9b90f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Go to the app dashboard once the app is created, then go to <!-- -->[Settings]<!-- --> &gt; <!-- -->[Basic]<!-- -->, scroll to the bottom of the page and click <!-- -->[Add platform]<!-- -->.
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/59bc7dd66391ac234da515b2a4c7c21b.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/59bc7dd66391ac234da515b2a4c7c21b.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Select "Website" and click<!-- -->[Next]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/35b03f1bfcb627d93d203abfbf6fe70f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/35b03f1bfcb627d93d203abfbf6fe70f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>A field for entering the site URL will be displayed.<br>
<!-- -->Enter Kuroco's front-end URL and click <!-- -->[Save changes]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/4684e1efc13e6471a11dd3de35c881cf.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/4684e1efc13e6471a11dd3de35c881cf.png" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-instagram-app">Create Instagram app<a href="#create-instagram-app" class="hash-link" aria-label="Direct link to Create Instagram app" title="Direct link to Create Instagram app">​</a></h3><p>Go back to your dashboard, find "Instagram Basic Display" under "Add Products" and click <!-- -->[Set up]<!-- -->.
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/843a7a58946eadd5f25f22340c60eb3b.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/843a7a58946eadd5f25f22340c60eb3b.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Scroll to the bottom of the page and click <!-- -->[Create New App]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/b9fbed6234558fc48fc78490e4e7fb3d.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/b9fbed6234558fc48fc78490e4e7fb3d.png" alt="Image from Gyazo" class="img_ev3q"></p><p>The app name of the Facebook app that was created in the previous step will be displayed. Click <!-- -->[Create app]<!-- --> without changing anything.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/5b4db56b9b59d03da0e25a7c80cd762f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/5b4db56b9b59d03da0e25a7c80cd762f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Once the Instagram app has been created, enter the URL <code>https://frontendURL/auth/</code> into the fields "Valid OAuth Redirect URIs", "Deauthorize Callback URL", and "Data Deletion Request URL", then click "Save Changes".</p><p>While "Deauthorize Callback URL" and "Data Deletion Request URL" should ultimately be changed to the appropriate URLs capable of handling those processes, they can initially be set to the same value as the OAuth Redirect URI.
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/be885b57f8457974ec529580d5f1adf4.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/be885b57f8457974ec529580d5f1adf4.png" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-instagram-test-user">Add Instagram test user<a href="#add-instagram-test-user" class="hash-link" aria-label="Direct link to Add Instagram test user" title="Direct link to Add Instagram test user">​</a></h3><p>Navigate to <!-- -->[App Roles]<!-- --> -&gt; Roles, scroll down to the Instagram Testers section and click <!-- -->[Add Instagram Tester]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/3a96c03d164839ca84f4ed5b7d6196e9.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/3a96c03d164839ca84f4ed5b7d6196e9.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter Instagram account username and click <!-- -->[Submit]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/8ee4989b076243ca57dd970bf01a0942.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8ee4989b076243ca57dd970bf01a0942.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Access <a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer">Instagram</a> and login with the account you have just invited above. Click <!-- -->[Profile icon]<!-- --> &gt; <!-- -->[Edit profile]<!-- --> &gt; <!-- -->[Apps and websites]<!-- --> &gt; <!-- -->[Tester Invites]<!-- --> and click <!-- -->[Accept]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/f42a49885ea9ba8c5b041cd7b05c4d75.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/f42a49885ea9ba8c5b041cd7b05c4d75.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Your Instagram account is now accessible from the Facebook app, even when it's in development mode.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-process-verification">Authentication process verification<a href="#authentication-process-verification" class="hash-link" aria-label="Direct link to Authentication process verification" title="Direct link to Authentication process verification">​</a></h3><p>We will verify the process of authenticating users and obtaining long-term Instagram user access tokens.  </p><p>User authentication starts at the following URL:  </p><p><code>https://api.instagram.com/oauth/authorize?client_id={app-id}&amp;redirect_uri={redirect-uri}&amp;scope=user_profile,user_media&amp;response_type=code</code></p><p>Replace <code>{app-id}</code> and <code>{redirect-uri}</code> with "Instagram App ID" and "Valid OAuth Redirect URIs" respectively from <!-- -->[Instagram Basic Display]<!-- -->-&gt;<!-- -->[Basic Display]<!-- -->.<br>
<!-- -->Please note that the Instagram App ID is different from the Facebook App ID.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/5abbe674e0ee17631593d7537b3521ef.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/5abbe674e0ee17631593d7537b3521ef.png" alt="Image from Gyazo" class="img_ev3q"></p><p>For example, the full URL can be as below:<br>
<code>https://api.instagram.com/oauth/authorize?client_id=684477648739411&amp;redirect_uri=https://socialsizzle.herokuapp.com/auth/&amp;scope=user_profile,user_media&amp;response_type=code</code></p><p>If you access the URL for your own Instagram App, the screen below will be displayed.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/8ea6184f730e9cbc49ba3becf8c8c53e.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8ea6184f730e9cbc49ba3becf8c8c53e.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Allow]<!-- -->, then you will be redirected to the specified redirect URI and will see the authentication code in the URL.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/ae5239e588bc7a39564d9444d637b96d.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/ae5239e588bc7a39564d9444d637b96d.png" alt="Image from Gyazo" class="img_ev3q"></p><p>This authentication code is exchanged for an access token by requesting the Instagram API along with the Instagram App ID and Instagram App Secret.
In addition, we can get the Instagram feed by requesting the obtained access token and user ID to the Instagram API.  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kuroco-settings-setup">Kuroco settings (setup)<a href="#kuroco-settings-setup" class="hash-link" aria-label="Direct link to Kuroco settings (setup)" title="Direct link to Kuroco settings (setup)">​</a></h2><p>Now we set up the Kuroco settings. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-content-structure">Create content structure<a href="#create-content-structure" class="hash-link" aria-label="Direct link to Create content structure" title="Direct link to Create content structure">​</a></h3><p>First, create an Instagram long-term access token and a content structure that stores your Instagram feed.  </p><p>Click <!-- -->[Add]<!-- --> button on <a href="/docs/management/content-structure-topics-group/">Content structure</a> page.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/8b7deb18b73d830e7a1aee113da244a1.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8b7deb18b73d830e7a1aee113da244a1.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter as follows:  </p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">Instagram</td></tr><tr><td align="left">ID=1</td><td align="left">Field settings：Single-line text<br>Field name：Access token<br>Identifier：token<br>Repetition：1</td></tr><tr><td align="left">ID=2</td><td align="left">Field settings：Single-line text<br>Field name：Media URL<br>Identifier：media_url<br>Repetition：6</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/0a5b4eb45ad6cbe61e984b42e6def53e.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/0a5b4eb45ad6cbe61e984b42e6def53e.png" alt="Image from Gyazo" class="img_ev3q">
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/d72b58b8965d060bee3810b6c10d0c8d.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/d72b58b8965d060bee3810b6c10d0c8d.png" alt="Image from Gyazo" class="img_ev3q">
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/661650a667fb858a46e489238a4935a1.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/661650a667fb858a46e489238a4935a1.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add]<!-- --> after completing above settings.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-content">Create content<a href="#create-content" class="hash-link" aria-label="Direct link to Create content" title="Direct link to Create content">​</a></h3><p>We will create an empty content to be updated by the custom function that will be implemented later.  </p><p>Click the <!-- -->[Add]<!-- --> button on the <a href="/docs/management/content-structure-topics/">content</a> page.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/679c9d6ce011a8612494251f38300daf.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/679c9d6ce011a8612494251f38300daf.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter the following and click <!-- -->[Add]<!-- -->. </p><table><thead><tr><th align="left">Item</th><th align="left">value</th></tr></thead><tbody><tr><td align="left">Slug</td><td align="left">instagram</td></tr><tr><td align="left">Title</td><td align="left">Instagram feed</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/84c71893a3ad6633f22368f01720c136.jpg?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/84c71893a3ad6633f22368f01720c136.jpg" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-constants-and-secret">Create constants and secret<a href="#create-constants-and-secret" class="hash-link" aria-label="Direct link to Create constants and secret" title="Direct link to Create constants and secret">​</a></h3><p>Since the Instagram App ID and Instagram App Secret will be used several times in Kuroco's custom processing, we will register them as constants and secrets.<br>
<!-- -->It is recommended that highly confidential items be registered as secrets.  </p><p>Copy the "Instagram App ID" and "Instagram App Secret" from the "Basic" page of the Instagram app.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/a0257d4d34ea01f548e064813936fea7.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/a0257d4d34ea01f548e064813936fea7.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Go back to your Kuroco admin panel, click <!-- -->[Environment]<!-- --> &gt; <!-- -->[Constant]<!-- --> on the side menu and click <!-- -->[Add]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/876e2462fba8c41704b5cb06145bca1f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/876e2462fba8c41704b5cb06145bca1f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter the followings and click <!-- -->[Add]<!-- -->.  </p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">INSTAGRAM_APP_ID</td></tr><tr><td align="left">Value</td><td align="left">Paste the "Instagram App ID" that you copied earlier</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/34afb853362feac60a88829b0a882085.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/34afb853362feac60a88829b0a882085.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Once added, the Smarty variable syntax will be shown.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/ad84e36f3d5166f996474a4b6eef430e.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/ad84e36f3d5166f996474a4b6eef430e.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Next, click <!-- -->[Environment]<!-- --> &gt; <!-- -->[Secret]<!-- --> and click <!-- -->[Add]<!-- -->.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/37aacf078ecbf7c865737523ef87a589.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/37aacf078ecbf7c865737523ef87a589.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter as followings and click <!-- -->[Add]<!-- -->.</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">INSTAGRAM_APP_SECRET</td></tr><tr><td align="left">Value</td><td align="left">Instagram App Secret</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/e72234d4220aa136dfe0ac33248ad3d1.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/e72234d4220aa136dfe0ac33248ad3d1.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Once added, the Smarty variable syntax will be shown.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/b0e95a767f08db64c5a30c27645332c0.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/b0e95a767f08db64c5a30c27645332c0.png" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-api">Create API<a href="#create-api" class="hash-link" aria-label="Direct link to Create API" title="Direct link to Create API">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-api-for-internal-use">Create API for internal use<a href="#create-api-for-internal-use" class="hash-link" aria-label="Direct link to Create API for internal use" title="Direct link to Create API for internal use">​</a></h4><p>It is recommended to separate APIs for endpoints that are only used internally within Kuroco.<br>
<!-- -->First, create a new API for internal use.<br>
<!-- -->If it has already been added, you can proceed to the next step.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-apis">Creating APIs<a href="#creating-apis" class="hash-link" aria-label="Direct link to Creating APIs" title="Direct link to Creating APIs">​</a></h4><p>Click <!-- -->[Add]<!-- --> on the API page of the Kuroco admin panel.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/6544c8a29317e971d2d1adb8c28a4ae7.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/6544c8a29317e971d2d1adb8c28a4ae7.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter the following in the editor and click <!-- -->[Add]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/58f7cfe849df22e41227016b2b26122b.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/58f7cfe849df22e41227016b2b26122b.png" alt="Image from Gyazo" class="img_ev3q"></p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Title</td><td align="left">Internal</td></tr><tr><td align="left">Version</td><td align="left">1.0</td></tr><tr><td align="left">Description</td><td align="left">API for internal use</td></tr></tbody></table><p>The new API is now created.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/c815f59956db28699d24750b743859ac.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/c815f59956db28699d24750b743859ac.png" alt="Image from Gyazo" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="security-settings">Security settings<a href="#security-settings" class="hash-link" aria-label="Direct link to Security settings" title="Direct link to Security settings">​</a></h4><p>Next, we will need to configure the security settings. Click <!-- -->[Security]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1aee6261457116b90de2c2b1596a72a0.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1aee6261457116b90de2c2b1596a72a0.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Select <!-- -->[Dynamic access token]<!-- --> and click <!-- -->[Save]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/41d4d26aa6a3e4dc20da998189594565.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/41d4d26aa6a3e4dc20da998189594565.png" alt="Image from Gyazo" class="img_ev3q"></p><p>After setting the security to <!-- -->[Dynamic access token]<!-- -->, the message "Since this API is configured to use token, it is recommended to add an endpoint that implements Authentication::Login::token." will be shown. We can ignore it for now since this API is only for internal use.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/0f60253c9152f4e03e6e2774d837f83e.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/0f60253c9152f4e03e6e2774d837f83e.png" alt="Image from Gyazo" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cors-settings">CORS settings<a href="#cors-settings" class="hash-link" aria-label="Direct link to CORS settings" title="Direct link to CORS settings">​</a></h4><p>Next, we will configure CORS settings. Click <!-- -->[Operation CORS]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/d17f7a7eecff5887b74df23df8c481d5.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/d17f7a7eecff5887b74df23df8c481d5.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add origin]<!-- --> of CORS_ALLOW_ORIGINS and enter the following:</p><ul><li>Admin panel URL</li></ul><p>Click <!-- -->[Add Method]<!-- --> of CORS_ALLOW_METHODS and enter the followings:</p><ul><li>GET  </li><li>POST</li><li>OPTIONS</li></ul><p>Confirm that <!-- -->[Allow Credentials]<!-- --> of CORS_ALLOW_CREDENTIALS is checked.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/e4cedebc531320b8fc564c0b6529d01c.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/e4cedebc531320b8fc564c0b6529d01c.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Save]<!-- --> after finishing the above configuration.  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implement-authorization-feature-using-kuroco-and-nuxtjs">Implement authorization feature using Kuroco and Nuxt.js<a href="#implement-authorization-feature-using-kuroco-and-nuxtjs" class="hash-link" aria-label="Direct link to Implement authorization feature using Kuroco and Nuxt.js" title="Direct link to Implement authorization feature using Kuroco and Nuxt.js">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-required-endpoints">Create the required endpoints<a href="#create-the-required-endpoints" class="hash-link" aria-label="Direct link to Create the required endpoints" title="Direct link to Create the required endpoints">​</a></h3><p>We will need to create two endpoints</p><ul><li>instagram_auth endpoint: To receive the authentication code from the frontend</li><li>instagram/update endpoint: To store the obtained long-term access token in Kuroco.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="instagram_auth-endpoint">instagram_auth endpoint<a href="#instagram_auth-endpoint" class="hash-link" aria-label="Direct link to instagram_auth endpoint" title="Direct link to instagram_auth endpoint">​</a></h4><p>Since the instagram_auth endpoint sends requests from the frontend, click <!-- -->[Add new endpoint]<!-- --> from the "Default" API.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/6180b91072835695331f82e5ed2f09f3.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/6180b91072835695331f82e5ed2f09f3.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Create an endpoint below:</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">instagram_auth</td></tr><tr><td align="left">Category</td><td align="left">API</td></tr><tr><td align="left">Model</td><td align="left">Api</td></tr><tr><td align="left">Operation</td><td align="left">request_api_post</td></tr><tr><td align="left">name</td><td align="left">instagram_auth<br>(This will be the identifier of the custom function we will create later.)</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/f8526208712f1e7434e70d6abad196d0.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/f8526208712f1e7434e70d6abad196d0.png" alt="Image from Gyazo" class="img_ev3q"></p><p>After finishing the above configuraion, click <!-- -->[Add]<!-- --> to add the endpoint.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="instagramupdate-endpoint">instagram/update endpoint<a href="#instagramupdate-endpoint" class="hash-link" aria-label="Direct link to instagram/update endpoint" title="Direct link to instagram/update endpoint">​</a></h4><p>Since the instagram/update endpoint is an internal endpoint to be called from custom function, click <!-- -->[Add new endpoint]<!-- --> from the "Internal" API.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/4084099d555d1761bfbc02351a7c3719.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/4084099d555d1761bfbc02351a7c3719.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Add the following endpoint:</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">instagram/update</td></tr><tr><td align="left">Category</td><td align="left">Content</td></tr><tr><td align="left">Model</td><td align="left">Topics</td></tr><tr><td align="left">Operation</td><td align="left">update</td></tr><tr><td align="left">topics_group_id</td><td align="left">ID of the content structure created earlier(8)</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/b7f1b0e5889c1ede29cfc52490fb678a.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/b7f1b0e5889c1ede29cfc52490fb678a.png" alt="Image from Gyazo" class="img_ev3q"></p><p>After settings, click <!-- -->[Add]<!-- --> to add the endpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-custom-function">Create custom function<a href="#create-custom-function" class="hash-link" aria-label="Direct link to Create custom function" title="Direct link to Create custom function">​</a></h3><p>Click <!-- -->[Operation]<!-- --> -&gt; <!-- -->[Custom function]<!-- -->.
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/9a9b5f1fa42555de0222180269ef487b.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/9a9b5f1fa42555de0222180269ef487b.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/ac3cbd1c4912fdb85574ccd0ecce3ac3.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/ac3cbd1c4912fdb85574ccd0ecce3ac3.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Enter the following:</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Title</td><td align="left">instagram_auth</td></tr><tr><td align="left">Identifier</td><td align="left">instagram_auth<br>(This has to be the same name set in the <code>Api::request_api</code> endpoint.)</td></tr><tr><td align="left">Process</td><td align="left">Refer to the code below</td></tr></tbody></table><div class="language-smarty codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-smarty codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* get short-term token *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">append</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">headers</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"Content-Type': 'application/x-www-form-urlencoded"</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body'</span><span class="token smarty language-smarty">            </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.client_id'</span><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$smarty</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">const</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">INSTAGRAM_APP_ID</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">secret</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.client_secret'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">key</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'INSTAGRAM_APP_SECRET'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.grant_type'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'authorization_code'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.redirect_uri'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"</span><span class="token smarty language-smarty string interpolation interpolation-punctuation punctuation" style="color:#393A34">`</span><span class="token smarty language-smarty string interpolation expression variable" style="color:#36acaa">$smarty</span><span class="token smarty language-smarty string interpolation expression punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty string interpolation expression variable" style="color:#36acaa">const</span><span class="token smarty language-smarty string interpolation expression punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty string interpolation expression variable" style="color:#36acaa">ROOT_URL</span><span class="token smarty language-smarty string interpolation interpolation-punctuation punctuation" style="color:#393A34">`</span><span class="token smarty language-smarty string" style="color:#e3116c">/auth/"</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.code'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$smarty</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">request</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">code</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'https://api.instagram.com/oauth/access_token'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'POST'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">headers</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$headers</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">body</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response1</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">status1</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* convert api plugin response to json format *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response1</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response1</span><span class="token smarty language-smarty operator" style="color:#393A34">|</span><span class="token smarty language-smarty function" style="color:#d73a49">@json_decode</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">logger</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg1</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"get short-term token"</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg2</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg3</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response1</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg4</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$status1</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* get long-term token *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2'</span><span class="token smarty language-smarty">            </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">secret</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2.client_secret'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">key</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'INSTAGRAM_APP_SECRET'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2.grant_type'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'ig_exchange_token'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2.access_token'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response1</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">access_token</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'https://graph.instagram.com/access_token'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'GET'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body2</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response2</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">status2</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* convert api plugin response to json format *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response2</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response2</span><span class="token smarty language-smarty operator" style="color:#393A34">|</span><span class="token smarty language-smarty function" style="color:#d73a49">@json_decode</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">logger</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg1</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"get long-term token"</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg2</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body2</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg3</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response2</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg4</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$status2</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Add long-term token to content *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body3'</span><span class="token smarty language-smarty">            </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body3.token'</span><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response2</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">access_token</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">if</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty variable" style="color:#36acaa">$response2</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">access_token</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty operator" style="color:#393A34">!=</span><span class="token smarty language-smarty"> null</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api_internal</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'response'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'status'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'/rcms-api/4/instagram/update/instagram'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'POST'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body3</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">member_id</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'1'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{/</span><span class="token smarty language-smarty keyword" style="color:#00009f">if</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Replace <code>/rcms-api/4/</code> with your own enpoint.</p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/7bae859ed94169e1feba1a110197d8ea.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/7bae859ed94169e1feba1a110197d8ea.png" alt="Image from Gyazo" class="img_ev3q"></p><p>After completing the above configuration, click <!-- -->[Add]<!-- --> to save the custom function.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="frontend-implementation">Frontend implementation<a href="#frontend-implementation" class="hash-link" aria-label="Direct link to Frontend implementation" title="Direct link to Frontend implementation">​</a></h3><p>Next, we will implement the authenticaiton process on the frontend which send the authentication code to the Kuroco endpoint and activate the custom function.  </p><p>Create <code>index.vue</code> file under <code>/pages/auth/</code> directory.  </p><div class="language-markup codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markup codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Authenticated</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">export</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">default</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">validate</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter punctuation" style="color:#393A34">{</span><span class="token script language-javascript parameter"> query </span><span class="token script language-javascript parameter punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">return</span><span class="token script language-javascript"> query</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">code</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">!=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword null nil" style="color:#00009f">null</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript literal-property property" style="color:#36acaa">methods</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">makeAccessToken</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> payload </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">code</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">$route</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">query</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">code</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">$axios</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">post</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">'/rcms-api/1/instagram_auth'</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> payload</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">mounted</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">$route</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">this</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">makeAccessToken</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h3><p>Access the URL below and click <!-- -->[Allow]<!-- -->.  </p><p><code>https://api.instagram.com/oauth/authorize?client_id={app-id}&amp;redirect_uri={redirect-uri}&amp;scope=user_profile,user_media&amp;response_type=code</code></p><p>Replace <code>{app-id}</code> and <code>{redirect-uri}</code> to "Instagram App ID" and "Valid OAuth Redirect URIs" respectively from <!-- -->[Instagram Basic Display]<!-- -->&gt;<!-- -->[Basic Display]<!-- -->.  </p><p>Confirm that it is redirected to the redirect URI and the access token is saved in the content.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/3501be3bd80159a562f397334105fa55.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/3501be3bd80159a562f397334105fa55.png" alt="Image from Gyazo" class="img_ev3q"></p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/9ca1a69a067cf39a05575be84611bc34.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/9ca1a69a067cf39a05575be84611bc34.png" alt="Image from Gyazo" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="periodically-get-the-instagram-feed-via-kuroco">Periodically get the Instagram feed via Kuroco<a href="#periodically-get-the-instagram-feed-via-kuroco" class="hash-link" aria-label="Direct link to Periodically get the Instagram feed via Kuroco" title="Direct link to Periodically get the Instagram feed via Kuroco">​</a></h2><p>We will add a Kuroco batch process to retrieve the Instagram feed periodically and update the content with the data retrieved.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-batch-process">Create batch process<a href="#create-batch-process" class="hash-link" aria-label="Direct link to Create batch process" title="Direct link to Create batch process">​</a></h3><p>Click <!-- -->[Operation]<!-- --> &gt; <!-- -->[Batch process]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1ecfae69bcffdbcdacbab103904db3ad.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1ecfae69bcffdbcdacbab103904db3ad.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/8eb644facfb5c12cf04a8484ebbdccb5.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8eb644facfb5c12cf04a8484ebbdccb5.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Configure as follows:</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Title</td><td align="left">instagram_get_media　</td></tr><tr><td align="left">Identifier</td><td align="left">instagram_get_media</td></tr><tr><td align="left">Batch</td><td align="left">Every day 00:00</td></tr><tr><td align="left">Process</td><td align="left">Following code</td></tr></tbody></table><div class="language-smarty codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-smarty codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{*Get current long-term access token*}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'method_params'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'method_params.topics_id'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"instagram"</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api_method</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'response'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">model</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'Topics'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'details'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">version</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'1'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method_params</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$method_params</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{*Get the latest media data*}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.fields'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'media_url'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.access_token'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">details</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">token</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.limit'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty number" style="color:#36acaa">6</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'https://graph.instagram.com/me/media'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'GET'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'media'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">status</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Convert the api plugin response to json format *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">media</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$media</span><span class="token smarty language-smarty operator" style="color:#393A34">|</span><span class="token smarty language-smarty function" style="color:#d73a49">@json_decode</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Convert the api plugin response to an array for updating *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'data.media_url'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">foreach</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">from</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$media</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">data</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">item</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">foo</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">append</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'data.media_url'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$foo</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">media_url</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{/</span><span class="token smarty language-smarty keyword" style="color:#00009f">foreach</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Update the content *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api_internal</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'response2'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'status'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'/rcms-api/4/instagram/update/instagram'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'POST'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$data</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">member_id</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'1'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">logger</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg1</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"Get Instagram Media"</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg2</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response2</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Replace <code>/rcms-api/4/</code> with your own enpoint.</p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1a7784d0bd7e7fc3119fe1c955b975e5.jpg?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1a7784d0bd7e7fc3119fe1c955b975e5.jpg" alt="Image from Gyazo" class="img_ev3q"></p><p>Once the configuration is complete, click <!-- -->[Add]<!-- --> to create the batch process. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="confirmation-of-operation">Confirmation of Operation<a href="#confirmation-of-operation" class="hash-link" aria-label="Direct link to Confirmation of Operation" title="Direct link to Confirmation of Operation">​</a></h3><p>Finally, click <!-- -->[Run now]<!-- --> to confirm the operation.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/a92a5776dd0d2d3f80ed235fb8d5eff4.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/a92a5776dd0d2d3f80ed235fb8d5eff4.png" alt="Image from Gyazo" class="img_ev3q"></p><p>If the settings have been properly configured, the Instagram media URL will be saved in the content as shown below. </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/9c12776b01aacdcf98fb458d5b7b0fd2.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/9c12776b01aacdcf98fb458d5b7b0fd2.png" alt="Image from Gyazo" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="periodically-refresh-long-term-access-tokens-in-kuroco">Periodically refresh long-term access tokens in Kuroco<a href="#periodically-refresh-long-term-access-tokens-in-kuroco" class="hash-link" aria-label="Direct link to Periodically refresh long-term access tokens in Kuroco" title="Direct link to Periodically refresh long-term access tokens in Kuroco">​</a></h2><p>The long-term access token for the Instagram Basic Display API has an expiration period of 60 days. An endpoint is provided by Instagram to update the long-term access token, so let's create a batch processing to send a request regularly.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-batch-process">Creating batch process<a href="#creating-batch-process" class="hash-link" aria-label="Direct link to Creating batch process" title="Direct link to Creating batch process">​</a></h3><p>Click <!-- -->[Operation]<!-- --> &gt; <!-- -->[Batch process]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1ecfae69bcffdbcdacbab103904db3ad.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1ecfae69bcffdbcdacbab103904db3ad.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add]<!-- -->.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/8eb644facfb5c12cf04a8484ebbdccb5.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8eb644facfb5c12cf04a8484ebbdccb5.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Configure as follows:  </p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Title</td><td align="left">update_token</td></tr><tr><td align="left">Identifier</td><td align="left">update_token</td></tr><tr><td align="left">Schedule</td><td align="left">Every day 01:00</td></tr><tr><td align="left">Process</td><td align="left">Code below</td></tr></tbody></table><div class="language-smarty codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-smarty codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{*Get the current long-term access token*}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'method_params'</span><span class="token smarty language-smarty">           </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'method_params.topics_id'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"instagram"</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api_method</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'topics'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">model</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'Topics'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'details'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">version</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'1'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method_params</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$method_params</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Update the long-term token *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body'</span><span class="token smarty language-smarty">            </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.grant_type'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'ig_refresh_token'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body.access_token'</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$topics</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">details</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">token</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'https://graph.instagram.com/refresh_access_token'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'GET'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">status</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Convert the response of the api plugin to json format*}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">response</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response</span><span class="token smarty language-smarty operator" style="color:#393A34">|</span><span class="token smarty language-smarty function" style="color:#d73a49">@json_decode</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">logger</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg1</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">"Update long-term access token"</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg2</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg3</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">msg4</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$status</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty comment" style="color:#999988;font-style:italic">{* Add the long-term token to the content *}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign_array</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2'</span><span class="token smarty language-smarty">            </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">values</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">''</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">assign</span><span class="token smarty language-smarty">       </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'body2.token'</span><span class="token smarty language-smarty">    </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">value</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$response</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">access_token</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">if</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty variable" style="color:#36acaa">$response</span><span class="token smarty language-smarty punctuation" style="color:#393A34">.</span><span class="token smarty language-smarty variable" style="color:#36acaa">access_token</span><span class="token smarty language-smarty"> </span><span class="token smarty language-smarty operator" style="color:#393A34">!=</span><span class="token smarty language-smarty"> null</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{</span><span class="token smarty language-smarty keyword" style="color:#00009f">api_internal</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'response'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">status_var</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'status'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">endpoint</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'/rcms-api/4/instagram/update/instagram'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">method</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'POST'</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">queries</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty variable" style="color:#36acaa">$body2</span><span class="token smarty language-smarty"></span><br></span><span class="token-line" style="color:#393A34"><span class="token smarty language-smarty">        </span><span class="token smarty language-smarty attr-name" style="color:#00a4db">member_id</span><span class="token smarty language-smarty operator" style="color:#393A34">=</span><span class="token smarty language-smarty string" style="color:#e3116c">'1'</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">{/</span><span class="token smarty language-smarty keyword" style="color:#00009f">if</span><span class="token smarty language-smarty delimiter punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Replace <code>/rcms-api/4/</code> with your own enpoint.</p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/3d1888388023f76380bd463ba298fc6e.jpg?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/3d1888388023f76380bd463ba298fc6e.jpg" alt="Image from Gyazo" class="img_ev3q"></p><p>Once you have entered the settings, click <!-- -->[Add]<!-- --> to add the batch process.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-1">Testing<a href="#testing-1" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h3><p>Finally, click <!-- -->[Run now]<!-- --> to confirm the access token is being retrieved.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/c57daa60b28a655dd546adb71b449bb7.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/c57daa60b28a655dd546adb71b449bb7.png" alt="Image from Gyazo" class="img_ev3q"></p><p>If the settings are correct, the access token in the content will be updated.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/162ef757e4f2359e451f0571d45a188b.jpg?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/162ef757e4f2359e451f0571d45a188b.jpg" alt="Image from Gyazo" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="display-instagram-feed-using-kuroco-and-nuxtjs">Display Instagram feed using Kuroco and Nuxt.js<a href="#display-instagram-feed-using-kuroco-and-nuxtjs" class="hash-link" aria-label="Direct link to Display Instagram feed using Kuroco and Nuxt.js" title="Direct link to Display Instagram feed using Kuroco and Nuxt.js">​</a></h2><p>Everything has been configured, all that is left is to display the Instagram media URLs you have added to your Kuroco content on the front page.  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-endpoint">Creating an endpoint<a href="#creating-an-endpoint" class="hash-link" aria-label="Direct link to Creating an endpoint" title="Direct link to Creating an endpoint">​</a></h3><p>Click <!-- -->[Add new endpoint]<!-- --> from the Default API.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/7ecfb510825392558e0e90f827c5c06a.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/7ecfb510825392558e0e90f827c5c06a.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Create the following endpoint:</p><table><thead><tr><th align="left">Item</th><th align="left">Settings</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">instagram</td></tr><tr><td align="left">Category</td><td align="left">Content</td></tr><tr><td align="left">Model</td><td align="left">Topics</td></tr><tr><td align="left">Operation</td><td align="left">details</td></tr><tr><td align="left">topics_group_id</td><td align="left">Content structure ID(8)</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/2ed0f4ee6f5019c9421877e899fce0fb.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/2ed0f4ee6f5019c9421877e899fce0fb.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Click <!-- -->[Add]<!-- --> after configuring the endpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="front-end-implementation">Front-end implementation<a href="#front-end-implementation" class="hash-link" aria-label="Direct link to Front-end implementation" title="Direct link to Front-end implementation">​</a></h3><p>Create an <code>index.vue</code> file in the <code>/pages/instagram/</code> directory for the front-end as follows: </p><div class="language-markup codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markup codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Instagram</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">square_contents</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">v-for</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">(n,i) in response.details.media_url</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:key</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">i</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://www.instagram.com/</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">target</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">_blank</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">n</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">export</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">default</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">asyncData</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter punctuation" style="color:#393A34">{</span><span class="token script language-javascript parameter"> $axios </span><span class="token script language-javascript parameter punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">return</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#36acaa">response</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> $axios</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">$get</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">'/rcms-api/1/instagram/instagram'</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:#00009f">.square_contents</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">display</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> flex</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">flex-wrap</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> wrap</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">width</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css number" style="color:#36acaa">720</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:#00009f">.square_contents</span><span class="token style language-css selector" style="color:#00009f"> a</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">display</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> block</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">position</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> relative</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">width</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">31</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">margin</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">1</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:#00009f">.square_contents</span><span class="token style language-css selector" style="color:#00009f"> a</span><span class="token style language-css selector pseudo-element" style="color:#00009f">::before</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">content</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css string" style="color:#e3116c">""</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">display</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> block</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">padding-top</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:#00009f">.square_contents</span><span class="token style language-css selector" style="color:#00009f"> img</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">position</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> absolute</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">width</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">height</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">top</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">0</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">  </span><span class="token style language-css property" style="color:#36acaa">object-fit</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> cover</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-2">Testing<a href="#testing-2" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h3><p>Confirm that the Instagram feed is being displayed on the frontend.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/ae470166ecc592ca12dbdb67b29e7b9d.jpg?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/ae470166ecc592ca12dbdb67b29e7b9d.jpg" alt="Image from Gyazo" class="img_ev3q"></p><p>With the above setup and implementation, the Instagram feed is displayed, and in the event of an update, Kucoro's content will be automatically updated as well.  </p><p>In this tutorial, we used the Instagram basic display API to display the Instagram feed.<br>
<!-- -->You can also use the Instagram graph API for the following cases:</p><ul><li>Identify media with specific @mentions or hashtags.</li><li>Retrieve data about other Instagram users.</li><li>Get Instagram stories.  </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="points-to-check-when-it-doesnt-work-as-expected">Points to check when it doesn't work as expected<a href="#points-to-check-when-it-doesnt-work-as-expected" class="hash-link" aria-label="Direct link to Points to check when it doesn't work as expected" title="Direct link to Points to check when it doesn't work as expected">​</a></h2><ul><li>Is frontend repository deployed successfully? (Is the <code>auth/?code=1234</code> page shown properly?)</li><li>Check that the Kuroco constant <code>INSTAGRAM_APP_ID</code> is set to <code>Instagram App ID</code> instead of <code>App ID</code> to <code>INSTAGRAM_APP_ID</code>.<br><strong>CORRECT(<code>Instagram App ID</code>):</strong><br><img loading="lazy" src="https://t.gyazo.com/teams/diverta/bbf31b9f6502fd88a20c3c2030244e69.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/bbf31b9f6502fd88a20c3c2030244e69.png" alt="Image from Gyazo" class="img_ev3q"><br><strong>WRONG(<code>App ID</code>):</strong><br><img loading="lazy" src="https://t.gyazo.com/teams/diverta/8226455560caa73e5f28637269b59b91.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/8226455560caa73e5f28637269b59b91.png" alt="Image from Gyazo" class="img_ev3q">  </li><li>Check that the Kuroco secret <code>INSTAGRAM_APP_SECRET</code> is set to <code>Insagram App Secret</code> instead of <code>App Secret</code>.<br><strong>CORRECT(<code>Instagram App Secret</code>):</strong><br><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1e9a07a79b5352da3081f472e8aa608a.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1e9a07a79b5352da3081f472e8aa608a.png" alt="Image from Gyazo" class="img_ev3q"><br><strong>WRONG(<code>App secret</code>):</strong><br><img loading="lazy" src="https://t.gyazo.com/teams/diverta/fedff8bd817012d4da4ae64f925b4588.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/fedff8bd817012d4da4ae64f925b4588.png" alt="Image from Gyazo" class="img_ev3q">  </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-documents">Related documents<a href="#related-documents" class="hash-link" aria-label="Direct link to Related documents" title="Direct link to Related documents">​</a></h2><ul><li><a href="/docs/faq/how-to-request-kuroco-api-from-smarty-function/">Can I call Kuroco's API from custom function?</a></li><li><a href="/docs/reference/smarty-plugin/">Smarty Plugin</a></li></ul></div><div class="mt-10 pt-5"><hr class="border-t border-solid border-gray-300 dark:border-gray-900"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/call-the-instagram-basic-display-api-from-kuroco.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer><div class="card rounded-lg container mt-10 p-8 border-none bg-primary-soft dark:bg-slate-800 mb-10"><h2 class="text-2xl">Support</h2><p class="text-gray-800 dark:text-white">If you have any other questions, please contact us or check out Our Slack Community.</p><div class="md:flex mt-0"><div class="md:inline-flex rounded-md shadow"><a href="https://kuroco.zendesk.com/hc/" target="_blank" rel="noreferrer" class="button button--primary px-5 py-3 block">Contact form</a></div><div class="mt-3 md:mt-0 md:ml-4 md:inline-flex rounded-md shadow"><a href="/docs/about/support/" target="_blank" rel="noreferrer" class="button button--primary px-5 py-3 block">Join Kuroco Slack community</a></div></div></div></div></article></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#what-you-will-learn" class="table-of-contents__link toc-highlight">What you will learn</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li></ul></li><li><a href="#instagram-settings" class="table-of-contents__link toc-highlight">Instagram settings</a><ul><li><a href="#create-facebook-app" class="table-of-contents__link toc-highlight">Create Facebook app</a></li><li><a href="#create-instagram-app" class="table-of-contents__link toc-highlight">Create Instagram app</a></li><li><a href="#add-instagram-test-user" class="table-of-contents__link toc-highlight">Add Instagram test user</a></li><li><a href="#authentication-process-verification" class="table-of-contents__link toc-highlight">Authentication process verification</a></li></ul></li><li><a href="#kuroco-settings-setup" class="table-of-contents__link toc-highlight">Kuroco settings (setup)</a><ul><li><a href="#create-content-structure" class="table-of-contents__link toc-highlight">Create content structure</a></li><li><a href="#create-content" class="table-of-contents__link toc-highlight">Create content</a></li><li><a href="#create-constants-and-secret" class="table-of-contents__link toc-highlight">Create constants and secret</a></li><li><a href="#create-api" class="table-of-contents__link toc-highlight">Create API</a></li></ul></li><li><a href="#implement-authorization-feature-using-kuroco-and-nuxtjs" class="table-of-contents__link toc-highlight">Implement authorization feature using Kuroco and Nuxt.js</a><ul><li><a href="#create-the-required-endpoints" class="table-of-contents__link toc-highlight">Create the required endpoints</a></li><li><a href="#create-custom-function" class="table-of-contents__link toc-highlight">Create custom function</a></li><li><a href="#frontend-implementation" class="table-of-contents__link toc-highlight">Frontend implementation</a></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li></ul></li><li><a href="#periodically-get-the-instagram-feed-via-kuroco" class="table-of-contents__link toc-highlight">Periodically get the Instagram feed via Kuroco</a><ul><li><a href="#create-batch-process" class="table-of-contents__link toc-highlight">Create batch process</a></li><li><a href="#confirmation-of-operation" class="table-of-contents__link toc-highlight">Confirmation of Operation</a></li></ul></li><li><a href="#periodically-refresh-long-term-access-tokens-in-kuroco" class="table-of-contents__link toc-highlight">Periodically refresh long-term access tokens in Kuroco</a><ul><li><a href="#creating-batch-process" class="table-of-contents__link toc-highlight">Creating batch process</a></li><li><a href="#testing-1" class="table-of-contents__link toc-highlight">Testing</a></li></ul></li><li><a href="#display-instagram-feed-using-kuroco-and-nuxtjs" class="table-of-contents__link toc-highlight">Display Instagram feed using Kuroco and Nuxt.js</a><ul><li><a href="#creating-an-endpoint" class="table-of-contents__link toc-highlight">Creating an endpoint</a></li><li><a href="#front-end-implementation" class="table-of-contents__link toc-highlight">Front-end implementation</a></li><li><a href="#testing-2" class="table-of-contents__link toc-highlight">Testing</a></li></ul></li><li><a href="#points-to-check-when-it-doesnt-work-as-expected" class="table-of-contents__link toc-highlight">Points to check when it doesn't work as expected</a></li><li><a href="#related-documents" class="table-of-contents__link toc-highlight">Related documents</a></li></ul></div></div></div></div></main></div></div><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">SITEMAP</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/quick-guide/">Quick Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/about-kuroco/">About Kuroco</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-a-headless-cms/">What is a Headless CMS?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/management/dashboard/">Admin Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/support/">Support</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/update/kuroco-roadmap/">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/sales/">Materials</a></li><li class="footer__item"><a href="https://kuroco.statuspal.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">COMPANY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kuroco.zendesk.com/hc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kuroco.app/files/legal/Kuroco-terms-of-service.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; conditions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.diverta.co.jp/en/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Diverta Inc. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.da1a0a86.js"></script>
<script src="/assets/js/main.8624ea78.js"></script>

</body></html>