<!DOCTYPE html><html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/subscription-billing-with-stripe"><head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Integrating and setting up subscription billing with Stripe | 導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:image" content="https://hisashihasebe.github.io/document_archive_public/202401/kuroco-card.png"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Integrating and setting up subscription billing with Stripe | 導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS"><meta data-rh="true" name="description" content="The Stripe screen enables you to configure settings for integrating Stripe into your website."><meta data-rh="true" property="og:description" content="The Stripe screen enables you to configure settings for integrating Stripe into your website."><link data-rh="true" rel="icon" href="/img/icon_kurocoDocument.svg"><link data-rh="true" rel="canonical" href="https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/"><link data-rh="true" rel="alternate" href="https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/" hreflang="en"><link data-rh="true" rel="alternate" href="https://hisashihasebe.github.io/document_archive_public/202401/ja/docs/tutorials/subscription-billing-with-stripe/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PBPV4WW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/document_archive_public/202401/assets/css/styles.b0cacabf.css">
<link rel="preload" href="/document_archive_public/202401/assets/js/runtime~main.da1a0a86.js" as="script">
<link rel="preload" href="/document_archive_public/202401/assets/js/main.8624ea78.js" as="script">
<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "isPartOf": {
        "@id": "https://hisashihasebe.github.io/document_archive_public/202401/#website"
      },
      "@id": "https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe//#webpage",
      "url": "https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/",
      "name": "Integrating and setting up subscription billing with Stripe",
      "description": "The Stripe screen enables you to configure settings for integrating Stripe into your website.",
      "inLanguage": "en",
      "datePublished": "2024-01-18T06:16:56.871Z",
      "dateModified": "2024-01-18T06:16:56.871Z",
      "breadcrumb": {
        "@id": "https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe//#breadcrumb"
      },
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": [
            "https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe/"
          ]
        }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://hisashihasebe.github.io/document_archive_public/202401/docs/tutorials/subscription-billing-with-stripe//#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "item": "https://hisashihasebe.github.io/document_archive_public/202401/",
          "name": "Home"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "item": "https://hisashihasebe.github.io/document_archive_public/202401/docs",
          "name": "Documentation"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "tutorials - subscription-billing-with-stripe - Integrating and setting up subscription billing with Stripe"
        }
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://hisashihasebe.github.io/document_archive_public/202401/#website",
      "name": "導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS",
      "url": "https://hisashihasebe.github.io/document_archive_public/202401/",
      "description": "Kuroco is enterprise Headless CMS for API-first development.",
      "publisher": {
        "@id": "https://hisashihasebe.github.io/document_archive_public/202401/#organization"
      }
    },
    {
      "@type": "Organization",
      "@id": "https://hisashihasebe.github.io/document_archive_public/202401/#organization",
      "name": "導入実績5000社以上の国産エンタープライズ・ヘッドレスCMS",
      "url": "https://hisashihasebe.github.io/document_archive_public/202401/",
      "sameAs": [
        "https://www.diverta.co.jp/"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "url": "https://www.diverta.co.jp/en/contact/"
      },
      "logo": {
        "@type": "ImageObject",
        "@id": "https://www.diverta.co.jp/#logo",
        "url": "https://hisashihasebe.github.io/document_archive_public/202401/files/user/img/common/logo_Kuroco_black.svg",
        "contentUrl": "https://hisashihasebe.github.io/document_archive_public/202401/files/user/img/common/logo_Kuroco_black.svg",
        "width": 155,
        "height": 56,
        "caption": "Diverta Inc."
      },
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "JP",
        "postalCode": "162-0823",
        "streetAddress": "Central Plaza 6F 1-1 Kaguragashi Shinjuku-ku, Tokyo, Japan"
      }
    }
  ]
}</script></head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PBPV4WW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="z-[600] fixed h-screen w-full flex items-center justify-center invisible"><div><svg class="animate-spin h-40 w-40 text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-50" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="fill-primary" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://hisashihasebe.github.io/document_archive_public/202401/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="Kuroco home" class="themedImage_ToTc themedImage--light_HNdA" height="37.5px"><img src="/img/logo_dark.svg" alt="Kuroco home" class="themedImage_ToTc themedImage--dark_i4oU" height="37.5px"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Home</a><a class="navbar__item navbar__link" href="/quick-guide/">Quick guide</a><a class="navbar__item navbar__link" href="/docs/about/about-kuroco/">About Kuroco</a><a class="navbar__item navbar__link" href="/docs/management/dashboard/">Admin Manual</a><a class="navbar__item navbar__link" href="/docs/about/support/">Support</a><a class="navbar__item navbar__link" href="/docs/faq/">FAQ</a><a class="navbar__item navbar__link" href="/docs/update/kuroco-roadmap/">Releases</a><a class="navbar__item navbar__link" href="/docs/about/sales/">Materials</a></div><div class="navbar__items navbar__items--right"><button type="button" class="button button--outline button--secondary py-3 px-3 border-0"><svg aria-hidden="true" class="w-5 h-5 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><span class="sr-only">Search</span></button><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/tutorials/subscription-billing-with-stripe/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/ja/docs/tutorials/subscription-billing-with-stripe/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><div class="light"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/tutorials/beginners-guide/">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/beginners-guide/">Get started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/kuroco-sample-site/">kuroco-sample</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/adding-a-topics/">Content management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/difference-between-kurocofiles-and-kurocofront/">File management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/configure-endpoint/">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/connect-to-github-with-kuroco-front/">Kuroco Front</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-only-display-comments-that-are-addressed-to-a-specific-user/">Activity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/sending-notification-messages-to-users-who-submitted-form-responses/">Campaign</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-add-new-member/">Member management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/how-to-use-batch/">Operation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/apply-css-to-a-kuroco-management-screen-with-the-plugin/">Environment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/tutorials/using-gsuite-to-implement-saml-based-sso/">External system integration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/using-gsuite-to-implement-saml-based-sso/">How to implement SAML based SSO using Google Workspace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/implementing-oauth-sp-based-sso/">Setting up your OAuth SP(Admin Panel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-link-sendgrid/">How to link with SendGrid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-connect-to-twillio/">Connecting to Twilio and send SMS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/firebase/">Cloud storage integration with Firebase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/amazon-s3/">Integrating and storing files with Amazon S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-connect-to-vimeo/">Vimeo integration and video uploads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/obtaining-chatgpt-responses-through-kuroco-openai-endpoint/">Generating AI answers with OpenAI integration through Kuroco API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/send-slack-notification-after-a-form-has-been-submitted/">Send notification of receiving inquiries to Slack.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/using-recaptcha/">Using reCAPTCHA for forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/using-recaptcha-for-password-reminders/">Using reCAPTCHA for password reminders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-link-google-analytics/">How to link Google Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-implement-ranking-with-google-analytics/">Implementing view-based page rankings in Google Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/integrating-with-vaddy/">Integrating with VAddy - Automated API endpoint diagnostics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/subscription-billing-with-stripe/">Integrating and setting up subscription billing with Stripe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/integrating-hubspot-into-kuroco/">Integrating HubSpot into Kuroco</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/setting-up-twitter-integration/">Setting up Twitter integration and automating Twitter posts with content updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/import-wordpress-xml-files-into-kuroco/">Importing WordPress files into Kuroco</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/how-to-connect-to-line/">Sending messages to LINE users</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/implementing-oauth-sp-for-line/">Registering as a User Using a LINE Account and Adding the Official Account as a Friend</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/integrate-kuroco-with-nuxt/">Front-end</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/integrate-login/">My-page</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed theme-doc-sidebar-item-category-ec-tutorial"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/ec-management/">EC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/create-a-har-file/">Technical Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/tutorials/starting-a-project-on-kuroco/">Project management</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/reference/endpoint-settings/">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/management/dashboard/">Admin panel user guide</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">External system integration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Integrating and setting up subscription billing with Stripe</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Integrating and setting up subscription billing with Stripe</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>This tutorial explains how to integrate Stripe into Kuroco and set up recurrent billing for a fixed-price product.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-youll-learn">What you'll learn<a href="#what-youll-learn" class="hash-link" aria-label="Direct link to What you'll learn" title="Direct link to What you'll learn">​</a></h2><p>The flow for the whole setup process is divided into three parts:</p><ul><li><p><a href="#stripe-integration">Integrating Stripe into Kuroco</a></p><ul><li><a href="#obtaining-api-keys-from-stripe">Getting the API keys from Stripe</a></li><li><a href="#creating-your-webhook-in-stripe">Creating a webhook in Stripe</a></li><li><a href="#integrating-stripe-into-kuroco">Integration setup in Kuroco</a></li></ul></li><li><p><a href="#adding-your-products">Adding your product(s)</a></p><ul><li><a href="#adding-products-with-stripe">Adding Products with Stripe</a></li><li><a href="#link-kuroco-groups-to-stripe-products">Link Kuroco groups to Stripe products</a></li></ul></li><li><p><a href="#api-setup">Setting up the API</a></p><ul><li><a href="#endpoint-configuration">Creating a checkout and a cancellation endpoint</a></li><li><a href="#verifying-the-billing-process">Verifying the checkout endpoint</a></li><li><a href="#verifying-the-subscription-cancellation">Verifying the cancellation endpoint</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stripe-integration">Stripe integration<a href="#stripe-integration" class="hash-link" aria-label="Direct link to Stripe integration" title="Direct link to Stripe integration">​</a></h2><p>First, you will need to obtain the API keys and webhook from Stripe and enter them into you Kuroco admin panel.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="obtaining-api-keys-from-stripe">Obtaining API keys from Stripe<a href="#obtaining-api-keys-from-stripe" class="hash-link" aria-label="Direct link to Obtaining API keys from Stripe" title="Direct link to Obtaining API keys from Stripe">​</a></h3><p>In your browser, go to the <a href="https://dashboard.stripe.com/" target="_blank" rel="noopener noreferrer">Stripe dashboard</a> and select your mode ("Developer" or "Test mode") in the upper right corner.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/998a7d7b6e72a9ff73336acfc1fa202f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/998a7d7b6e72a9ff73336acfc1fa202f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>On the next page, select <!-- -->[API keys]<!-- --> in the left sidebar menu.<br>
<!-- -->You will see the <!-- -->[Publishable key]<!-- --> and the <!-- -->[Secret key]<!-- -->. Copy them for later use.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>It is important to select the correct mode for your purposes ("Developer" or "Test mode") when performing your integration, as they have different API keys. If you need to switch modes, make sure to copy the keys again and update them in your Kuroco admin panel.</p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/1463f45913a90348113701014db4208d.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/1463f45913a90348113701014db4208d.png" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-your-webhook-in-stripe">Creating your webhook in Stripe<a href="#creating-your-webhook-in-stripe" class="hash-link" aria-label="Direct link to Creating your webhook in Stripe" title="Direct link to Creating your webhook in Stripe">​</a></h3><p>Next, select <!-- -->[Webhooks]<!-- --> in the side menu. On the Webhooks page, click <!-- -->[Add an endpoint]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/3c8abbd3fc861a4a343b3ca590460d7f.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/3c8abbd3fc861a4a343b3ca590460d7f.png" alt="Image from Gyazo" class="img_ev3q"></p><p>You will be redirected to the webhook configuration page, where you will add a webhook that allows Kuroco to determine if the Stripe payment was successful.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/94aa9e09dd6d2d44b2a63a57b92cdc06.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/94aa9e09dd6d2d44b2a63a57b92cdc06.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Set up your webhook as follows:</p><table><thead><tr><th align="left">Field</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">Endpoint URL</td><td align="left">Enter the endpoint URL found on the <a href="https://t.gyazo.com/teams/diverta/964b549bd5a684ad32048d4e6f80e72b.png" target="_blank" rel="noopener noreferrer">Kuroco Stripe screen</a>.</td></tr><tr><td align="left">Description</td><td align="left">Enter a description for your webhook.</td></tr><tr><td align="left">Listen to</td><td align="left">Select <!-- -->[Events on your account]<!-- -->.</td></tr><tr><td align="left">Version</td><td align="left">Select the latest current version of your account.</td></tr><tr><td align="left">Events</td><td align="left">Click <!-- -->[+ Select events]<!-- --> and select the following events from the dropdown list:<ul><li><code>customer.subscription.created</code></li><li><code>customer.subscription.deleted</code></li><li><code>customer.subscription.updated</code></li></ul>Click <!-- -->[Add events]<!-- --> when you are done.</td></tr></tbody></table><p>When you are done, click <!-- -->[Add endpoint]<!-- --> to add the new endpoint to your Stripe dashboard.</p><p>After you have added your endpoint, click <!-- -->[Reveal signing secret]<!-- --> to see the webhook secret. Copy it for later use.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/d0a520b9294b90323506c9f610630910.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/d0a520b9294b90323506c9f610630910.png" alt="Image from Gyazo" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-stripe-into-kuroco">Integrating Stripe into Kuroco<a href="#integrating-stripe-into-kuroco" class="hash-link" aria-label="Direct link to Integrating Stripe into Kuroco" title="Direct link to Integrating Stripe into Kuroco">​</a></h3><p>In Kuroco's left sidebar menu, under “SETTINGS”, select <!-- -->[External system integration]<!-- --> -&gt; <!-- -->[Stripe]<!-- -->.   </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/4f920429811751b809043c3eaeaefe4c.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/4f920429811751b809043c3eaeaefe4c.png" alt="Image from Gyazo" class="img_ev3q"></p><p>On the Stripe integration screen, enter the keys you copied from Stripe UI in the corresponding fields.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/d2d1503862df4a5e06adbb3bc0610128.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/d2d1503862df4a5e06adbb3bc0610128.png" alt="Image from Gyazo" class="img_ev3q"></p><table><thead><tr><th align="left">Field</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">Status</td><td align="left">Select "Enable".</td></tr><tr><td align="left">Publishable key</td><td align="left">Enter the publishable key you copied.</td></tr><tr><td align="left">Secret key</td><td align="left">Enter the secret key you copied.</td></tr><tr><td align="left">Webhook secret</td><td align="left">Enter the signing secret you copied.</td></tr></tbody></table><p>When you are done, click <!-- -->[Update]<!-- --> to apply these changes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-your-products">Adding your product(s)<a href="#adding-your-products" class="hash-link" aria-label="Direct link to Adding your product(s)" title="Direct link to Adding your product(s)">​</a></h2><p>The next step is to add your product(s) in Stripe and in Kuroco.    </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-products-with-stripe">Adding Products with Stripe<a href="#adding-products-with-stripe" class="hash-link" aria-label="Direct link to Adding Products with Stripe" title="Direct link to Adding Products with Stripe">​</a></h3><p>In the top bar menu, click <!-- -->[Products]<!-- -->.<br>
<!-- -->Then, select <!-- -->[All products]<!-- --> from the left sidebar.<br>
<!-- -->On the Products page, click <!-- -->[+ Add a product]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/2a97ee06c256958b8ea76a502bee77d0.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/2a97ee06c256958b8ea76a502bee77d0.png" alt="Image from Gyazo" class="img_ev3q"></p><p>You will be redirected to the Add product page. Fill in the details of your product as follows. For more information, refer to the <a href="https://stripe.com/docs/products-prices/manage-prices" target="_blank" rel="noopener noreferrer">Stripe docs: Manage products and prices</a>.</p><table><thead><tr><th align="left">Field</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Name</td><td align="left">Name of the product.</td></tr><tr><td align="left">Description</td><td align="left">Brief information of the product.</td></tr><tr><td align="left">Pricing</td><td align="left">Select <!-- -->[Standard pricing]<!-- -->.</td></tr><tr><td align="left">Recurring</td><td align="left">Select <!-- -->[Recurring]<!-- -->.</td></tr><tr><td align="left">Billing period</td><td align="left">Select your billing period (interval of time between each statement).</td></tr></tbody></table><p>When you are done, click <!-- -->[Save product]<!-- --> to add your product to the Stripe database.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/d25df95fe43ed69f9fa8eaa6d7111fb2.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/d25df95fe43ed69f9fa8eaa6d7111fb2.png" alt="Image from Gyazo" class="img_ev3q"></p><p>You will be redirected to the Details page. Under "Pricing", find the API ID and copy it for later use.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/5f018cec74aa98e71cdf383dc2a574d5.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/5f018cec74aa98e71cdf383dc2a574d5.png" alt="Image from Gyazo" class="img_ev3q"></p><p>To add another product, repeat the above steps under "<a href="#adding-your-product">Adding your product</a>".</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="link-kuroco-groups-to-stripe-products">Link Kuroco groups to Stripe products<a href="#link-kuroco-groups-to-stripe-products" class="hash-link" aria-label="Direct link to Link Kuroco groups to Stripe products" title="Direct link to Link Kuroco groups to Stripe products">​</a></h3><p>Next, go to your Kuroco admin panel and create an empty member group for your product. If you have more than one product, each product should have a separate group.<br>
<!-- -->(For a tutorial on how to create new groups, see <a href="/docs/tutorials/how-to-make-new-group/">Creating groups</a>.)</p><p>From the group list, click the name of the group you just created.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/ae02bfe252d9c3ea7793a5208b96dad6.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/ae02bfe252d9c3ea7793a5208b96dad6.png" alt="Image from Gyazo" class="img_ev3q"></p><p>On the Group editor screen, enter the API ID you copied from Stripe into "Stripe price ID".</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The "Stripe price ID" field only appears on admin panels with Stripe successfully integrated. If you do not see this field, go back to the <a href="#integrating-stripe-into-kuroco">integration step</a> above and check if all your inputs and settings are correct.</p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/78f1935551a531aca28173a429c81e57.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/78f1935551a531aca28173a429c81e57.png" alt="Image from Gyazo" class="img_ev3q"></p><p>When a member successfully completes checkout from the payment page, they will be automatically added to this product group.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-setup">API setup<a href="#api-setup" class="hash-link" aria-label="Direct link to API setup" title="Direct link to API setup">​</a></h2><p>The final step is to add and verify the required endpoints for the payment process.<br>
<!-- -->You will need two endpoints: a checkout endpoint and a cancellation endpoint. They will be used to process payments and cancel subscriptions, respectively.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint-configuration">Endpoint configuration<a href="#endpoint-configuration" class="hash-link" aria-label="Direct link to Endpoint configuration" title="Direct link to Endpoint configuration">​</a></h3><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>To use the payment functionality, you must use cookies or dynamic tokens as your API security settings.</p></div></div><p>In Kuroco's left sidebar menu, click <!-- -->[API]<!-- --> and select the API where you will be adding the endpoint.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/e806f56c501dd75139ed612381965027.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/e806f56c501dd75139ed612381965027.png" alt="Image from Gyazo" class="img_ev3q"></p><p>On the Endpoint List screen, click <!-- -->[Add New Endpoint]<!-- --> and add the following two endpoints</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/060b0e609139f239dfa426948319ca16.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/060b0e609139f239dfa426948319ca16.png" alt="Image from Gyazo" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="checkout-endpoint">Checkout endpoint<a href="#checkout-endpoint" class="hash-link" aria-label="Direct link to Checkout endpoint" title="Direct link to Checkout endpoint">​</a></h4><p>Endpoint for generating payment URLs.</p><table><thead><tr><th align="left">Field</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">Category</td><td align="left">Payments</td></tr><tr><td align="left">Model</td><td align="left">Stripe, v1</td></tr><tr><td align="left">Operation</td><td align="left">checkout</td></tr><tr><td align="left">products_list</td><td align="left">Enter the price ID (Stripe API ID) of the product.<ul><li>Note: You can add multiple products to a single checkout.</li><li>Note: You can not change the price ID from the front end</li></ul></td></tr><tr><td align="left">return_url</td><td align="left">Front-end URL for the payment success page.</td></tr><tr><td align="left">return_err_url</td><td align="left">Front-end URL for the payment failure page.</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/b9889847fd64019147e65b6bb0791239.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/b9889847fd64019147e65b6bb0791239.png" alt="Image from Gyazo" class="img_ev3q">
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/25f92f9d8bfed0326df740e76417288e.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/25f92f9d8bfed0326df740e76417288e.png" alt="Image from Gyazo" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cancellation-endpoint">Cancellation endpoint<a href="#cancellation-endpoint" class="hash-link" aria-label="Direct link to Cancellation endpoint" title="Direct link to Cancellation endpoint">​</a></h4><p>Endpoint for canceling subscriptions.</p><table><thead><tr><th align="left">Field</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">Category</td><td align="left">Payments</td></tr><tr><td align="left">Model</td><td align="left">Stripe, v1</td></tr><tr><td align="left">Operation</td><td align="left">cancel_order</td></tr></tbody></table><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/3fdd41e0440c1d0966c59e02e6e751de.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/3fdd41e0440c1d0966c59e02e6e751de.png" alt="Image from Gyazo" class="img_ev3q"></p><p>When you are done, click <!-- -->[Add]<!-- --> to save the endpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-the-billing-process">Verifying the billing process<a href="#verifying-the-billing-process" class="hash-link" aria-label="Direct link to Verifying the billing process" title="Direct link to Verifying the billing process">​</a></h3><p>To check if your billing process is working as expected, verify the endpoint response from the Swagger UI and make a test payment.</p><p>From the sidebar menu, select the API containing your checkout endpoint. On the endpoint list screen, click <!-- -->[Swagger UI]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/6cfaa16ca4c22a3886b24ff5cebc3af7.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/6cfaa16ca4c22a3886b24ff5cebc3af7.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Log in as the member that you wish to make the test payment and click <!-- -->[Try it out]<!-- --> at the checkout endpoint.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/11f34df1503e6fded0c0b7d4005eab05.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/11f34df1503e6fded0c0b7d4005eab05.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Scroll down and click <!-- -->[Execute]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/a5fad6eb2f7f3f9997a1618335907b26.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/a5fad6eb2f7f3f9997a1618335907b26.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Copy the URL in the response body.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/5d8f120814340bb9459cb8d2e6d595f6.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/5d8f120814340bb9459cb8d2e6d595f6.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Access the URL in your browser. You should see the payment screen below. Enter your payment details and click <!-- -->[Subscribe]<!-- -->.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You can use <a href="https://stripe.com/docs/testing#international-cards" target="_blank" rel="noopener noreferrer">test cards</a> to simulate various scenarios.  </p></div></div><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/0933871454f537a755e9aa5939b9cb55.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/0933871454f537a755e9aa5939b9cb55.png" alt="Image from Gyazo" class="img_ev3q"></p><p>If the payment was successful, you will be redirected to the payment success page you set in your endpoint.
If return_url is blank, the user will be redirected to the top page of the front-end URL.</p><p>Check the following three points to confirm that the operation has completed successfully.</p><ul><li><p>In the ID Information tab of the member information who made the payment, a group linked to Stripe is added to the group to which the member belongs.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/72f433487a8b673517c1876e954224e9.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/72f433487a8b673517c1876e954224e9.png" alt="Image from Gyazo" class="img_ev3q"></p></li><li><p>Stripe Customer ID" and "Stripe Subscription ID" have been added in the Profile Information tab of the member information who made the payment.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/e1a20cd5ab9e0b03e7d4c2bb3b49bd97.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/e1a20cd5ab9e0b03e7d4c2bb3b49bd97.png" alt="Image from Gyazo" class="img_ev3q"></p></li><li><p>The member who made the payment is added in <!-- -->[Billing]<!-- -->-&gt;<!-- -->[Subscription]<!-- --> in the Stripe admin page, and the Stripe subscription ID matches the Kuroco admin page.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/a4ab2faee0f781df82f33ac7c4a58ebe.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/a4ab2faee0f781df82f33ac7c4a58ebe.png" alt="Image from Gyazo" class="img_ev3q"><br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/144255e4f4b6d43e03646fd984099043.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/144255e4f4b6d43e03646fd984099043.png" alt="Image from Gyazo" class="img_ev3q"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-the-subscription-cancellation">Verifying the subscription cancellation<a href="#verifying-the-subscription-cancellation" class="hash-link" aria-label="Direct link to Verifying the subscription cancellation" title="Direct link to Verifying the subscription cancellation">​</a></h3><p>To test the cancellation process, log in as the member you wish to cancel the subscription with and click <!-- -->[Try it out]<!-- --> on the Cancel endpoint.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/9456bf51a59b865b258076a62a637a71.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/9456bf51a59b865b258076a62a637a71.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Scroll down and click <!-- -->[Execute]<!-- -->.</p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/da498d949a34bcb60081542ded401a8c.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/da498d949a34bcb60081542ded401a8c.png" alt="Image from Gyazo" class="img_ev3q"></p><p>The cancellation process is complete when the ok status is displayed.  </p><p><img loading="lazy" src="https://t.gyazo.com/teams/diverta/fdbfac0405ee10a2b6e1d2c51128c1aa.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/fdbfac0405ee10a2b6e1d2c51128c1aa.png" alt="Image from Gyazo" class="img_ev3q"></p><p>Check the following three points to confirm that the operation has completed successfully.</p><ul><li><p>In the ID Information tab of the member information that made the payment, the group linked to Stripe has been removed from the groups to which the member belongs.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/c385a1675b1f77727fc342d484c7c762.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/c385a1675b1f77727fc342d484c7c762.png" alt="Image from Gyazo" class="img_ev3q"></p></li><li><p>The "Stripe Subscription ID" has been removed from the Profile Information tab of the member information that made the payment.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/e1bc1c5dd837558321f574c6981cec09.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/e1bc1c5dd837558321f574c6981cec09.png" alt="Image from Gyazo" class="img_ev3q"></p></li><li><p>The target member has been removed from the <!-- -->[Current]<!-- --> tab of <!-- -->[Billing]<!-- -->-&gt;<!-- -->[Subscription]<!-- --> in the Stripe administration screen and added to the <!-- -->[Canceled]<!-- --> tab.<br>
<img loading="lazy" src="https://t.gyazo.com/teams/diverta/2c1d15d69eb4d12eb6bf798be3c12954.png?width=600" data-zoom-src="https://t.gyazo.com/teams/diverta/2c1d15d69eb4d12eb6bf798be3c12954.png" alt="Image from Gyazo" class="img_ev3q"></p></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Note that subscriptions are canceled immediately without redirecting to a confirmation page.
Also, no refunds will be given in the event of cancellation.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-information">More information<a href="#more-information" class="hash-link" aria-label="Direct link to More information" title="Direct link to More information">​</a></h2><p>Below are some points to take note of when setting up subscription billing with Stripe in Kuroco.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h3><p>Currently, Kuroco does not support the following payment types with Stripe:</p><ul><li>Guest checkout (i.e., non-logged-in users)</li><li>One-time purchases</li><li>Setting up multiple subscription IDs for one member</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stripe-cli">Stripe CLI<a href="#stripe-cli" class="hash-link" aria-label="Direct link to Stripe CLI" title="Direct link to Stripe CLI">​</a></h3><p>You can also use the <a href="https://stripe.com/docs/stripe-cli" target="_blank" rel="noopener noreferrer">Stripe CLI</a> developer tool to test your payment function by listening for real-time event changes such as new subscriptions, updates, and payment processing on your Stripe account.</p><p>To do this, run the command <code>stripe listen</code> with the commonly used flags listed below. You will receive a webhook secret, which you can add to your local environment to decrypt the information.</p><table><thead><tr><th align="left">Flag</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">--forward-to</td><td align="left">Enter the your localhost URL to which you want to forward the webhook calls.</td></tr><tr><td align="left">--events</td><td align="left">Enter a comma-separated list of events you want to listen for.<ul><li>You can find the list of events on your <a href="#creating-your-webhook">Stripe webhook page</a></li></ul></td></tr><tr><td align="left">--skip-verify</td><td align="left">Use this flag if you do not have a local SSL certificate or it is invalid.</td></tr></tbody></table><p>For further details about using the Stripe CLI, see:</p><ul><li><a href="https://stripe.com/docs/stripe-cli" target="_blank" rel="noopener noreferrer">Stripe Docs: Get started with the Stripe CLI</a></li><li><a href="https://stripe.com/docs/stripe-cli/about-events" target="_blank" rel="noopener noreferrer">Stripe Docs: Listen for events with the Stripe CLI</a></li></ul></div><div class="mt-10 pt-5"><hr class="border-t border-solid border-gray-300 dark:border-gray-900"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/subscription-billing-with-stripe.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer><div class="card rounded-lg container mt-10 p-8 border-none bg-primary-soft dark:bg-slate-800 mb-10"><h2 class="text-2xl">Support</h2><p class="text-gray-800 dark:text-white">If you have any other questions, please contact us or check out Our Slack Community.</p><div class="md:flex mt-0"><div class="md:inline-flex rounded-md shadow"><a href="https://kuroco.zendesk.com/hc/" target="_blank" rel="noreferrer" class="button button--primary px-5 py-3 block">Contact form</a></div><div class="mt-3 md:mt-0 md:ml-4 md:inline-flex rounded-md shadow"><a href="/docs/about/support/" target="_blank" rel="noreferrer" class="button button--primary px-5 py-3 block">Join Kuroco Slack community</a></div></div></div></div></article></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#what-youll-learn" class="table-of-contents__link toc-highlight">What you'll learn</a></li><li><a href="#stripe-integration" class="table-of-contents__link toc-highlight">Stripe integration</a><ul><li><a href="#obtaining-api-keys-from-stripe" class="table-of-contents__link toc-highlight">Obtaining API keys from Stripe</a></li><li><a href="#creating-your-webhook-in-stripe" class="table-of-contents__link toc-highlight">Creating your webhook in Stripe</a></li><li><a href="#integrating-stripe-into-kuroco" class="table-of-contents__link toc-highlight">Integrating Stripe into Kuroco</a></li></ul></li><li><a href="#adding-your-products" class="table-of-contents__link toc-highlight">Adding your product(s)</a><ul><li><a href="#adding-products-with-stripe" class="table-of-contents__link toc-highlight">Adding Products with Stripe</a></li><li><a href="#link-kuroco-groups-to-stripe-products" class="table-of-contents__link toc-highlight">Link Kuroco groups to Stripe products</a></li></ul></li><li><a href="#api-setup" class="table-of-contents__link toc-highlight">API setup</a><ul><li><a href="#endpoint-configuration" class="table-of-contents__link toc-highlight">Endpoint configuration</a></li><li><a href="#verifying-the-billing-process" class="table-of-contents__link toc-highlight">Verifying the billing process</a></li><li><a href="#verifying-the-subscription-cancellation" class="table-of-contents__link toc-highlight">Verifying the subscription cancellation</a></li></ul></li><li><a href="#more-information" class="table-of-contents__link toc-highlight">More information</a><ul><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#stripe-cli" class="table-of-contents__link toc-highlight">Stripe CLI</a></li></ul></li></ul></div></div></div></div></main></div></div><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">SITEMAP</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/quick-guide/">Quick Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/about-kuroco/">About Kuroco</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-a-headless-cms/">What is a Headless CMS?</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/management/dashboard/">Admin Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/support/">Support</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq/">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/update/kuroco-roadmap/">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/sales/">Materials</a></li><li class="footer__item"><a href="https://kuroco.statuspal.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">COMPANY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kuroco.zendesk.com/hc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hisashihasebe.github.io/document_archive_public/202401/files/legal/Kuroco-terms-of-service.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; conditions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.diverta.co.jp/en/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Diverta Inc. All rights reserved.</div></div></div></footer></div>
<script src="/document_archive_public/202401/assets/js/runtime~main.da1a0a86.js"></script>
<script src="/document_archive_public/202401/assets/js/main.8624ea78.js"></script>

</body></html>