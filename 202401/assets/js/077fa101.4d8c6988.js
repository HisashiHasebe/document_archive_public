"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[58235],{3905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>f});var r=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var s=r.createContext({}),m=function(t){var e=r.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},d=function(t){var e=m(t.components);return r.createElement(s.Provider,{value:e},t.children)},p="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,o=t.originalType,s=t.parentName,d=l(t,["components","mdxType","originalType","parentName"]),p=m(a),u=n,f=p["".concat(s,".").concat(u)]||p[u]||c[u]||o;return a?r.createElement(f,i(i({ref:e},d),{},{components:a})):r.createElement(f,i({ref:e},d))}));function f(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[p]="string"==typeof t?t:n,i[1]=l;for(var m=2;m<o;m++)i[m]=a[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},30389:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var r=a(87462),n=(a(67294),a(3905));const o={title:"Adding Reminder Functionality to a Form",description:"Kuroco's custom member filter allows you to narrow down the target members with flexible settings. In this tutorial, we will use this feature to implement a reminder function that sends notifications to the responsible person if the submissions to a received form has not been made within a certain period of time."},i=void 0,l={unversionedId:"tutorials/add-reminder-function-to-form",id:"tutorials/add-reminder-function-to-form",title:"Adding Reminder Functionality to a Form",description:"Kuroco's custom member filter allows you to narrow down the target members with flexible settings. In this tutorial, we will use this feature to implement a reminder function that sends notifications to the responsible person if the submissions to a received form has not been made within a certain period of time.",source:"@site/docs/tutorials/add-reminder-function-to-form.md",sourceDirName:"tutorials",slug:"/tutorials/add-reminder-function-to-form",permalink:"/docs/tutorials/add-reminder-function-to-form",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/add-reminder-function-to-form.md",tags:[],version:"current",frontMatter:{title:"Adding Reminder Functionality to a Form",description:"Kuroco's custom member filter allows you to narrow down the target members with flexible settings. In this tutorial, we will use this feature to implement a reminder function that sends notifications to the responsible person if the submissions to a received form has not been made within a certain period of time."},sidebar:"documentationSidebar",previous:{title:"Automatically Delete Files in File Manager",permalink:"/docs/tutorials/delete-filemanager-files-by-using-smarty-plugins"},next:{title:"Setting up stubs on API endpoints using custom functions",permalink:"/docs/tutorials/setting-up-stubs-on-api-endpoints-using-custom-functions"}},s={},m=[{value:"Overview",id:"overview",level:2},{value:"What you will learn",id:"what-you-will-learn",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Members",id:"members",level:4},{value:"Form",id:"form",level:4},{value:"Creating a Custom Member Filter",id:"creating-a-custom-member-filter",level:2},{value:"Creating a Batch Process",id:"creating-a-batch-process",level:2},{value:"Testing the Functionality",id:"testing-the-functionality",level:2},{value:"Related Documents",id:"related-documents",level:2}],d={toc:m},p="wrapper";function c(t){let{components:e,...a}=t;return(0,n.kt)(p,(0,r.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"Kuroco's custom member filter allows you to narrow down the target members with flexible settings. In this tutorial, we will use the custom member filter to implement a reminder function that sends notifications to the responsible person if the submissions to a received form has not been made within a certain period of time."),(0,n.kt)("p",null,"Specifically, we will send notifications to the responsible person if the following conditions are met:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"More than 4 hours have passed since the form was submitted."),(0,n.kt)("li",{parentName:"ul"},'The status of the submissions is "0::Not supported"'),(0,n.kt)("li",{parentName:"ul"},'The sender of the form belongs to the "Paid support" group.')),(0,n.kt)("h3",{id:"what-you-will-learn"},"What you will learn"),(0,n.kt)("p",null,"You will learn how to implement the reminder function using the following steps:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#creating-a-custom-member-filter"},"Creating a custom member filter")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#creating-a-batch-process"},"Creating a batch process")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#testing-the-functionality"},"Testing the Functionality"))),(0,n.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("p",null,"Before starting, make sure to add the following form and members."),(0,n.kt)("h4",{id:"members"},"Members"),(0,n.kt)("p",null,'Add several test members who belong to the group that requires reminders. In this tutorial, we have prepared members who belong to the "Paid support" group.'),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/fbafe32d9e38d510dfe30110e8b41301.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/fbafe32d9e38d510dfe30110e8b41301.png",alt:"Image from Gyazo"})),(0,n.kt)("h4",{id:"form"},"Form"),(0,n.kt)("p",null,"Prepare a form to which you will add the reminder function. Set the status list in the basic settings to the default configuration."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"0::Not supported\n5::Supporting\n10::Support finished\n20::Replies\n")),(0,n.kt)("p",null,"You can create other items as desired."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/01b32e584aa9186a0db27d366c32ffcc.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/01b32e584aa9186a0db27d366c32ffcc.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Also, for testing purposes, log in as a test user and send the form, creating a submissions associated with a member."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/9b4d72b9a52c750276d8ff1a678ce025.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/9b4d72b9a52c750276d8ff1a678ce025.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"When you send the form while logged in, the name of the submissions will be linked to the member information details page."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/070a651ed661101924e093bebe7b1489.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/070a651ed661101924e093bebe7b1489.png",alt:"Image from Gyazo"})),(0,n.kt)("h2",{id:"creating-a-custom-member-filter"},"Creating a Custom Member Filter"),(0,n.kt)("p",null,"First, create a custom member filter to narrow down the customers who meet the specified conditions. The conditions for narrowing down are as follows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"More than 4 hours have passed since the form was submitted."),(0,n.kt)("li",{parentName:"ul"},'The status of the submissions is "0::Not supported".'),(0,n.kt)("li",{parentName:"ul"},'The sender of the form belongs to the "Paid support" group.')),(0,n.kt)("p",null,"In the left sidebar menu, select ","[Member]"," -> ","[Custom member filter]","."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/f79ed50dbd63ffaf553ecdad39225056.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/f79ed50dbd63ffaf553ecdad39225056.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Click ","[Add]","."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/cac67a99e940643cecec07acba8b3bd1.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/cac67a99e940643cecec07acba8b3bd1.png",alt:"Image from Gyazo"})),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Title"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Customers Requiring Urgent Attention")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Access Restriction"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Public")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Module Search Condition"),(0,n.kt)("td",{parentName:"tr",align:"left"},"AND")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Member Tab"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Group")," in ",(0,n.kt)("inlineCode",{parentName:"td"},"Paid support"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Form Tab"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Form ID")," = ",(0,n.kt)("inlineCode",{parentName:"td"},"ID of the target form (15)"),(0,n.kt)("br",null),"AND",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"Status")," = ",(0,n.kt)("inlineCode",{parentName:"td"},"0"),(0,n.kt)("br",null),"AND",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"Received Date")," Relative < ",(0,n.kt)("inlineCode",{parentName:"td"},"-4 hour"))))),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/347e99a31211da203354bfef2049c770.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/347e99a31211da203354bfef2049c770.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/23927d952677a116f35559ff819c3ae3.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/23927d952677a116f35559ff819c3ae3.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/72d2fb68a16373990c47ba95523dc8da.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/72d2fb68a16373990c47ba95523dc8da.png",alt:"Image from Gyazo"})),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"In the form tab of the custom member filter, you can narrow down the members who have submitted the form based on the conditions of the form.",(0,n.kt)("br",{parentName:"p"}),"\n","You need to be logged in and have the form submission associated with a member.  ")),(0,n.kt)("p",null,"Once you have set the configuration, click ","[Add]"," to add the custom member filter.  "),(0,n.kt)("h2",{id:"creating-a-batch-process"},"Creating a Batch Process"),(0,n.kt)("p",null,"Next, create a batch process that periodically checks if there are any users who meet the criteria of the custom member filter (customers who require urgent attention) and sends a notification to the responsible person if there are any."),(0,n.kt)("p",null,"In the left sidebar menu, click ","[Operation]"," -> ","[Batch process]","."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/36016f3f16552d6c414ced5f58890722.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/36016f3f16552d6c414ced5f58890722.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Click ","[Add]",".  "),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/1b6fcfaaab5368809c222e81f8db74f9.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/1b6fcfaaab5368809c222e81f8db74f9.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Configure the following:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Title"),(0,n.kt)("td",{parentName:"tr",align:"left"},"send_reminder")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Identifier"),(0,n.kt)("td",{parentName:"tr",align:"left"},"send_reminder")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Hourly")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The following")))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-smarty",metastring:'reference title="send_reminder"',reference:!0,title:'"send_reminder"'},"https://github.com/diverta/kuroco-documents/blob/main/sample_code/batch_processing/send_inquiry_response_reminder.txt\n")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/37deb7d9d42d04314121b5d5e7c13af9.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/37deb7d9d42d04314121b5d5e7c13af9.png",alt:"Image from Gyazo"})),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"Please change the part ",(0,n.kt)("inlineCode",{parentName:"li"},"{assign       var='method_params.custom_search_id' value='21'}")," to your own custom member filter ID.  "),(0,n.kt)("li",{parentName:"ul"},"Please change the part ",(0,n.kt)("inlineCode",{parentName:"li"},"{$smarty.const.ROOT_MNG_URL}/\u30fb\u30fb\u30fb&inquiry_id=15")," to your own form ID.  "),(0,n.kt)("li",{parentName:"ul"},"Please enter the recipient's email address in ",(0,n.kt)("inlineCode",{parentName:"li"},"YOUR_MAIL_ADDRESS@example.com"),".  "))),(0,n.kt)("h2",{id:"testing-the-functionality"},"Testing the Functionality"),(0,n.kt)("p",null,"Finally, test the functionality.",(0,n.kt)("br",{parentName:"p"}),"\n","Wait for the batch process to run or click ","[Run immediately]"," to execute the batch process."),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/0fc46c821b598ad44d48045549c2be98.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/0fc46c821b598ad44d48045549c2be98.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"You will receive the following email:"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/c536315a140669f6a5462f7064c9093d.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/c536315a140669f6a5462f7064c9093d.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,'Clicking the link in the email will display a list of submissions with a status of "0::Not supported" that have been pending for more than 4 hours.'),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/5a0e575769e3815968ae36b58d3187a2.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/5a0e575769e3815968ae36b58d3187a2.jpg",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"This concludes the explanation of adding a reminder feature to a form."),(0,n.kt)("h2",{id:"related-documents"},"Related Documents"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/tutorials/setting-up-inquiry-forms/"},"Setting up inquiry forms with Kuroco and Nuxt.js")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/tutorials/using-custom-member-filters/"},"Using custom member filters")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/docs/reference/smarty-plugin/"},"Smarty Plugin"))))}c.isMDXComponent=!0}}]);