"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[62269],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>f});var r=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=r.createContext({}),m=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):n(n({},t),e)),a},c=function(e){var t=m(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=m(a),u=o,f=d["".concat(l,".").concat(u)]||d[u]||p[u]||i;return a?r.createElement(f,n(n({ref:t},c),{},{components:a})):r.createElement(f,n({ref:t},c))}));function f(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,n=new Array(i);n[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,n[1]=s;for(var m=2;m<i;m++)n[m]=a[m];return r.createElement.apply(null,n)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8767:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>n,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var r=a(87462),o=(a(67294),a(3905));const i={title:"Using custom member filters",category:"Member",weight:1},n=void 0,s={unversionedId:"tutorials/using-custom-member-filters",id:"tutorials/using-custom-member-filters",title:"Using custom member filters",description:"Apart from performing searches, custom member filters also allow you to authorize access to pages, specify notification recipients, and implement other actions.",source:"@site/docs/tutorials/using-custom-member-filters.md",sourceDirName:"tutorials",slug:"/tutorials/using-custom-member-filters",permalink:"/docs/tutorials/using-custom-member-filters",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/using-custom-member-filters.md",tags:[],version:"current",frontMatter:{title:"Using custom member filters",category:"Member",weight:1},sidebar:"documentationSidebar",previous:{title:"Creating groups",permalink:"/docs/tutorials/how-to-make-new-group"},next:{title:"How to use batch process in Kuroco",permalink:"/docs/tutorials/how-to-use-batch"}},l={},m=[{value:"Creating a filter",id:"creating-a-filter",level:2},{value:"1. Go to the custom member filter screen",id:"1-go-to-the-custom-member-filter-screen",level:3},{value:"2. Set up your filter",id:"2-set-up-your-filter",level:3},{value:"3. Input your filter conditions",id:"3-input-your-filter-conditions",level:3},{value:"a. Members who have registered within the last 30 days",id:"a-members-who-have-registered-within-the-last-30-days",level:4},{value:"b. Add grouped condition",id:"b-add-grouped-condition",level:4},{value:"c. Members who are located in Tokyo or abroad",id:"c-members-who-are-located-in-tokyo-or-abroad",level:4},{value:"d. Select the logical operator",id:"d-select-the-logical-operator",level:4},{value:"4. View your filter results",id:"4-view-your-filter-results",level:3},{value:"Specifying relative times",id:"specifying-relative-times",level:2},{value:"Example",id:"example",level:3},{value:"Functions that use custom member filters",id:"functions-that-use-custom-member-filters",level:2},{value:"Access authorization",id:"access-authorization",level:3},{value:"Content",id:"content",level:4},{value:"Form",id:"form",level:4},{value:"API",id:"api",level:4},{value:"User selection",id:"user-selection",level:3},{value:"Notification recipients",id:"notification-recipients",level:4},{value:"Members",id:"members",level:4}],c={toc:m},d="wrapper";function p(e){let{components:t,...a}=e;return(0,o.kt)(d,(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Apart from performing searches, custom member filters also allow you to authorize access to pages, specify notification recipients, and implement other actions."),(0,o.kt)("h2",{id:"creating-a-filter"},"Creating a filter"),(0,o.kt)("h3",{id:"1-go-to-the-custom-member-filter-screen"},"1. Go to the custom member filter screen"),(0,o.kt)("p",null,"Filter conditions can be specified on the custom member filter screen.\nIn the sidebar menu, select ","[Member]"," -> ","[Custom member filter]"," in the sidebar menu."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/0842ee3ee2e8ff9314a1e9bdb200b7ab.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/0842ee3ee2e8ff9314a1e9bdb200b7ab.png",alt:"Image from Gyazo"}),"\nOn the filter list screen, click ","[Add]"," in the upper right corner."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/03b2013782d5171bf5327a06ff8ec31b.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/03b2013782d5171bf5327a06ff8ec31b.png",alt:"Image from Gyazo"})),(0,o.kt)("h3",{id:"2-set-up-your-filter"},"2. Set up your filter"),(0,o.kt)("p",null,"Set up your filter as desired. For more information on the input fields, see ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/custom-member-filter"},"User guide: Custom member filter"),"."),(0,o.kt)("p",null,"Example filter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Name: ",(0,o.kt)("inlineCode",{parentName:"li"},"New/selected regional members")),(0,o.kt)("li",{parentName:"ul"},"Access restriction: Everyone"),(0,o.kt)("li",{parentName:"ul"},"Logical operator: AND"),(0,o.kt)("li",{parentName:"ul"},"Use permission settings: Enable"),(0,o.kt)("li",{parentName:"ul"},"Memo: (leave blank)")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/50f812451a3d328e88f896bf218418c0.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/50f812451a3d328e88f896bf218418c0.jpg",alt:"Image from Gyazo"})),(0,o.kt)("h3",{id:"3-input-your-filter-conditions"},"3. Input your filter conditions"),(0,o.kt)("p",null,'You can input your filter conditions under the "Member", "Form", "E-commerce", and/or "Custom function" tabs.'),(0,o.kt)("p",null,"Below is an example filter for members who have registered within the last 30 days and who are living either in Tokyo or abroad."),(0,o.kt)("h4",{id:"a-members-who-have-registered-within-the-last-30-days"},"a. Members who have registered within the last 30 days"),(0,o.kt)("p",null,'Under the "Member" tab, select ',"[Insert date]"," -> ","[Relative]"," -> ","[>=]"," and enter ",(0,o.kt)("inlineCode",{parentName:"p"},"today -30 day")," in the textbox."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/a421be62f049553b092112ad7133a20f.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/a421be62f049553b092112ad7133a20f.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"b-add-grouped-condition"},"b. Add grouped condition"),(0,o.kt)("p",null,"Click \u25bc next to the ","[Add]"," button and select ","[Add grouped condition]","."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/b22788efa4e5c731d44f217bba815b77.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/b22788efa4e5c731d44f217bba815b77.png",alt:"Image from Gyazo"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/0d2412a6cce5be6620c5ffdbd5bef810.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/0d2412a6cce5be6620c5ffdbd5bef810.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"c-members-who-are-located-in-tokyo-or-abroad"},"c. Members who are located in Tokyo or abroad"),(0,o.kt)("p",null,'Under "Grouped conditions", select ',"[Prefecture]"," -> ","[in]"," -> ","[Tokyo]","."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/915cebe5e44ff48adc5c29098ab210f8.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/915cebe5e44ff48adc5c29098ab210f8.png",alt:"Image from Gyazo"}),"\nThen, click ","[Add]"," and select ","[Prefecture]"," -> ","[in]"," -> ","[Abroad]","."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/298b32be9ef741c3ab80b7c5371059b9.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/298b32be9ef741c3ab80b7c5371059b9.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"d-select-the-logical-operator"},"d. Select the logical operator"),(0,o.kt)("p",null,"Set the outermost operator (red box) to ",(0,o.kt)("inlineCode",{parentName:"p"},"AND"),", and the operator within the grouped condition (purple box) to ",(0,o.kt)("inlineCode",{parentName:"p"},"OR"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/7f7c1324ea0f0f8d6f6dc85cb65a5ff3.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/7f7c1324ea0f0f8d6f6dc85cb65a5ff3.jpg",alt:"Image from Gyazo"})),(0,o.kt)("h3",{id:"4-view-your-filter-results"},"4. View your filter results"),(0,o.kt)("p",null,"Click ","[View results]"," to verify the results."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e659b6b94d0d63a8cbb94aab5ee4aeed.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e659b6b94d0d63a8cbb94aab5ee4aeed.png",alt:"Image from Gyazo"}),"\nIf there are no errors, click ","[Update]"," at the bottom of the screen to save your custom filter."),(0,o.kt)("h2",{id:"specifying-relative-times"},"Specifying relative times"),(0,o.kt)("p",null,"While the above example uses a relative specification of ",(0,o.kt)("inlineCode",{parentName:"p"},"today -30 day"),", you can also configure different times using the PHP date and time format."),(0,o.kt)("h3",{id:"example"},"Example"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Target date"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Input"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"Yesterday at 12:00"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"yesterday noon"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"yesterday 12:00"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"End of next month"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"last day of next month"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"Absolute date"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"2021-03-24"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"First Saturday of January, 2021"),(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"first sat of January 2021"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"Relative date"),(0,o.kt)("td",{parentName:"tr",align:"left"},"e.g., ",(0,o.kt)("inlineCode",{parentName:"td"},"+5 weeks"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"+12 day"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"-6 month"))))),(0,o.kt)("h2",{id:"functions-that-use-custom-member-filters"},"Functions that use custom member filters"),(0,o.kt)("p",null,"Custom member filters can be used in the following functions."),(0,o.kt)("h3",{id:"access-authorization"},"Access authorization"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},'To select a filter for authorization, "Use permission settings" needs to be enabled in the ',(0,o.kt)("a",{parentName:"p",href:"/docs/management/custom-member-filter"},"filter editor"),".")),(0,o.kt)("h4",{id:"content"},"Content"),(0,o.kt)("p",null,'"Access restriction" under "Other settings" in the ',(0,o.kt)("a",{parentName:"p",href:"/docs/management/content-structure-topics/#content-editor"},"content editor"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/fb1efb53bd27762d90d292efbecb01ce.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/fb1efb53bd27762d90d292efbecb01ce.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"form"},"Form"),(0,o.kt)("p",null,'"API request restriction" in the ',(0,o.kt)("a",{parentName:"p",href:"/docs/management/inquiry-basic-settings"},'"Basic settings" tab of the form editor'),'. The dropdown box is displayed when you select "Restricted".'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/d25caa26d9007a30821f74f8213f0180.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/d25caa26d9007a30821f74f8213f0180.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"api"},"API"),(0,o.kt)("p",null,'"API request restriction" in the ',(0,o.kt)("a",{parentName:"p",href:"/docs/reference/endpoint-settings/"},"Endpoint settings")," dialog. Select ","[MemberCustomSearchAuth]"," and choose the filters you want to use."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/bc7f2a3a0a2baa94b9a22e59a139eae3.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/bc7f2a3a0a2baa94b9a22e59a139eae3.png",alt:"Image from Gyazo"})),(0,o.kt)("h3",{id:"user-selection"},"User selection"),(0,o.kt)("h4",{id:"notification-recipients"},"Notification recipients"),(0,o.kt)("p",null,"Specify filters as default recipient groups in the ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/notification-basic-settings/#existing-notification"},"notification editor"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/2d668356161ec39fea3d3b78436809e8.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/2d668356161ec39fea3d3b78436809e8.png",alt:"Image from Gyazo"})),(0,o.kt)("h4",{id:"members"},"Members"),(0,o.kt)("p",null,"Use custom filters to search the ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/member"},"member list"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/d7148916e4405807416cf6a7dcdc7b19.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/d7148916e4405807416cf6a7dcdc7b19.png",alt:"Image from Gyazo"}),"\nSelect member data for ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/member-download/"},"download"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/9f731c3aad07e3191fbd3e5f0a311f9a.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/9f731c3aad07e3191fbd3e5f0a311f9a.jpg",alt:"Image from Gyazo"})))}p.isMDXComponent=!0}}]);