"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[60654],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>f});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var i=n.createContext({}),m=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},s=function(e){var t=m(e.components);return n.createElement(i.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},l=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=m(a),l=o,f=d["".concat(i,".").concat(l)]||d[l]||g[l]||r;return a?n.createElement(f,p(p({ref:t},s),{},{components:a})):n.createElement(f,p({ref:t},s))}));function f(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,p=new Array(r);p[0]=l;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[d]="string"==typeof e?e:o,p[1]=c;for(var m=2;m<r;m++)p[m]=a[m];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}l.displayName="MDXCreateElement"},72891:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>p,default:()=>g,frontMatter:()=>r,metadata:()=>c,toc:()=>m});var n=a(87462),o=(a(67294),a(3905));const r={title:"How to implement SAML based SSO using Google Workspace",category:"Kuroco",weight:1},p=void 0,c={unversionedId:"tutorials/using-gsuite-to-implement-saml-based-sso",id:"tutorials/using-gsuite-to-implement-saml-based-sso",title:"How to implement SAML based SSO using Google Workspace",description:"This tutorial explains how to implement SAML-based SSO using Google Workspace.",source:"@site/docs/tutorials/using-gsuite-to-implement-saml-based-sso.md",sourceDirName:"tutorials",slug:"/tutorials/using-gsuite-to-implement-saml-based-sso",permalink:"/docs/tutorials/using-gsuite-to-implement-saml-based-sso",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/using-gsuite-to-implement-saml-based-sso.md",tags:[],version:"current",frontMatter:{title:"How to implement SAML based SSO using Google Workspace",category:"Kuroco",weight:1},sidebar:"documentationSidebar",previous:{title:"Set up two-factor authentication using one-time passwords in the Kuroco administration screen.",permalink:"/docs/tutorials/set-up-a-one-time-password-for-logging-into-the-kuroco-admin-panel"},next:{title:"Setting up your OAuth SP(Admin Panel)",permalink:"/docs/tutorials/implementing-oauth-sp-based-sso"}},i={},m=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Add SP settings on Kuruco management page.",id:"add-sp-settings-on-kuruco-management-page",level:2},{value:"Google Workspace management page setting",id:"google-workspace-management-page-setting",level:2},{value:"Setup IdP information on the SP edit page on Kuruco management page.",id:"setup-idp-information-on-the-sp-edit-page-on-kuruco-management-page",level:2},{value:"How to use",id:"how-to-use",level:2}],s={toc:m},d="wrapper";function g(e){let{components:t,...a}=e;return(0,o.kt)(d,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This tutorial explains how to implement SAML-based SSO using Google Workspace.",(0,o.kt)("br",{parentName:"p"}),"\n","This is an SSO using SAML authentication, with Google Workspace as the IdP and Kuroco as the SP."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"It is required that you have a Google Workspace account."),(0,o.kt)("h2",{id:"add-sp-settings-on-kuruco-management-page"},"Add SP settings on Kuruco management page."),(0,o.kt)("p",null,"First of all, add SP settings on Kuroco's management page.  "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"1. Access SSO SAML SP setting page"),(0,o.kt)("br",{parentName:"p"}),"\n","Refer to ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/sso-saml-sp/"},"SSO SAML SP edit")," to access the SAML SP edit page."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"2. Add SP setting"),(0,o.kt)("br",{parentName:"p"}),"\n","Input the followings in SSO SAML SP edit page and click ","[Add]"," button."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Login SAML SP Name: your preferred name."),(0,o.kt)("li",{parentName:"ul"},"Entity ID: your preferred ID."),(0,o.kt)("li",{parentName:"ul"},"Enable: Uncheck it."),(0,o.kt)("li",{parentName:"ul"},"(For API) Generate grant token: Select and check the desired ones."),(0,o.kt)("li",{parentName:"ul"},"Automatically Register User\uff1aCheck it."),(0,o.kt)("li",{parentName:"ul"},"Allow IDP Initiated Flow: Check it.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/89abb5f83c683204647c4a772e1acf4c.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/89abb5f83c683204647c4a772e1acf4c.png",alt:"Image (fetched from Gyazo)"}),"\nCreated SP is added on the SSO SAML SP list page.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/56ff3e64ca6adc5d9e586fc186868433.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/56ff3e64ca6adc5d9e586fc186868433.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"3. Check the SP settings detail"),(0,o.kt)("br",{parentName:"p"}),"\n","From the SSO SAML SP list page, click ","[Login SAML SP Name]"," of the one which you have just added.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png",alt:"Image (fetched from Gyazo)"}),"\nCheck and copy ","[Login SAML SP ACS URI]"," and ","[Entity Id]"," on the editing page since it will be required in the next step in Google Workspace management page.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/9ad41128d55ddf8a01af2fe426c6cbc3.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/9ad41128d55ddf8a01af2fe426c6cbc3.png",alt:"Image (fetched from Gyazo)"})),(0,o.kt)("h2",{id:"google-workspace-management-page-setting"},"Google Workspace management page setting"),(0,o.kt)("p",null,"Next is the SAML integration setting on ",(0,o.kt)("a",{parentName:"p",href:"https://admin.google.com/"},"Google Workspace management page"),".    "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make sure to login with Google Workspace admin account for the following procedures.  "),(0,o.kt)("li",{parentName:"ul"},"The screen may change depending on Google specification.  ")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"1. Access the Apps settings page from Google Workspace admin page"),(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[Apps]"," on the admin page.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/596879284c9aea73b069c6e332eb84d8.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/596879284c9aea73b069c6e332eb84d8.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"2. Access SAML apps setting page"),(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[SAML apps]",".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/ed664470300d79b26cc2be45af8ae84b.png?witdh=600?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/ed664470300d79b26cc2be45af8ae84b.png?witdh=600",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"3. Add SAML apps"),(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[Add App]","->","[Add custom SAML app]",".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4bf76d005fba195dd123b683031290df.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4bf76d005fba195dd123b683031290df.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"4. Create custom app"),(0,o.kt)("br",{parentName:"p"}),"\n","Input the followings and click ","[continue]","."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"App name")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"App icon\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/a29e6f64e404c34556e4f6bcbb9ed9da.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/a29e6f64e404c34556e4f6bcbb9ed9da.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"5. Download IdP information"),(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[DOWNLOAD METADATA]"," to download the IdP metadata.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/597943ee89f9a86fefc9daec8a135c22.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/597943ee89f9a86fefc9daec8a135c22.png",alt:"Image (fetched from Gyazo)"}),"\nClick ","[CONTINUE]"," after the download is completed.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4aa6bcb4cb06b1f9367a564735e6f680.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4aa6bcb4cb06b1f9367a564735e6f680.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},"6. Input the SP information"),(0,o.kt)("br",{parentName:"p"}),"\n","Input the following information: ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'ACS URL: Paste "Login SAML SP ACS URI" which you copied on Kuroco management page at step 3.   ')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Entity ID: Paste "Entity ID" which you copied on Kuroco management page at step 3.  ')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Start URL: the URL after login such as /sample.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Signed response: Check it.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Name ID format: Select "EMAIL".')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Name ID: Select "Basic Information > Primary Email".'))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/6f059ab9a3cf8a6170ab92a01b559217.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/6f059ab9a3cf8a6170ab92a01b559217.png",alt:"Image (fetched from Gyazo)"}),"\nClick ","[CONTINUE]"," once completed."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"7. Setup the mapping information"),(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[ADD MAPPING]",".\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/d83597c5431e1d39e12c5d04f3590e04.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/d83597c5431e1d39e12c5d04f3590e04.png",alt:"Image (fetched from Gyazo)"}),"\nSetup the followings:  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Basic Information / Last name\uff1aname1"),(0,o.kt)("li",{parentName:"ul"},"Basic Information / First name\uff1aname2")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/f6f9629cfbb18c4d532a56dc41d3ee34.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/f6f9629cfbb18c4d532a56dc41d3ee34.png",alt:"Image (fetched from Gyazo)"}),"\nClick ","[FINISH]"," once completed.   "),(0,o.kt)("p",null,"Custom SAML app has been created.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/0145b80c3a33ffb81e60219ff382d573.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/0145b80c3a33ffb81e60219ff382d573.png",alt:"Image (fetched from Gyazo)"}),"\n",(0,o.kt)("strong",{parentName:"p"},'8. Change the user access to "ON"'),(0,o.kt)("br",{parentName:"p"}),"\n","The user access is OFF by default, so change it to ON.",(0,o.kt)("br",{parentName:"p"}),"\n","Click the arrow of ","[User access]",".\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/3481a0f3cd2b347645c06e69adb26912.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/3481a0f3cd2b347645c06e69adb26912.png",alt:"Image (fetched from Gyazo)"}),'\nSelect "ON for everyone" on the service status page and click ',"[SAVE]",".\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/504bccc8fc26f336d8f102d7006ffd7d.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/504bccc8fc26f336d8f102d7006ffd7d.png",alt:"Image (fetched from Gyazo)"}),"\nGoogle Workspace setup has been completed."),(0,o.kt)("h2",{id:"setup-idp-information-on-the-sp-edit-page-on-kuruco-management-page"},"Setup IdP information on the SP edit page on Kuruco management page."),(0,o.kt)("p",null,"On Kuroco's management page, access the ",(0,o.kt)("a",{parentName:"p",href:"/docs/management/sso-saml-sp/"},"SSO SAML SP edit"),"page.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png",alt:"Image (fetched from Gyazo)"}),"\nUpload the XML file of IdP information which you downloaded on step ","[Google Workspace management page setting -> 5. Download IdP information]"," and check ","[Enable]",".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/6f1101e6d795320378985c60d3916297.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/6f1101e6d795320378985c60d3916297.png",alt:"Image (fetched from Gyazo)"}),"\nClick ","[Update]"," after the setup is completed. The configuration is now complete.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e0a95d0d490f2652c94e32810106374f.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e0a95d0d490f2652c94e32810106374f.png",alt:"Image (fetched from Gyazo)"})),(0,o.kt)("h2",{id:"how-to-use"},"How to use"),(0,o.kt)("p",null,"Check the created SAML SP page.",(0,o.kt)("br",{parentName:"p"}),"\n","Click ","[Login SAML SP Name]"," of the SP configuration which you have created on the SSO SAML SP list page.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/390c470c82c01ff5ae9f6696e19d1487.png",alt:"Image (fetched from Gyazo)"}),"\nYou can find ","[Login SAML SP ACS URI]",".\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/7395efc9a603b443830c84c8de9bccd4.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/7395efc9a603b443830c84c8de9bccd4.png",alt:"Image (fetched from Gyazo)"}),"\nClick the URL and it links to the Google login page.\n",(0,o.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/7aaf4dc6665bb9a240a1f0f2ad41c68c.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/7aaf4dc6665bb9a240a1f0f2ad41c68c.png",alt:"Image (fetched from Gyazo)"}),"\nYou can use SAML login here."))}g.isMDXComponent=!0}}]);