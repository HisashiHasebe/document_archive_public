"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[28023],{3905:(t,e,a)=>{a.d(e,{Zo:()=>l,kt:()=>h});var o=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,o,n=function(t,e){if(null==t)return{};var a,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var c=o.createContext({}),p=function(t){var e=o.useContext(c),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},l=function(t){var e=p(t.components);return o.createElement(c.Provider,{value:e},t.children)},m="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},u=o.forwardRef((function(t,e){var a=t.components,n=t.mdxType,r=t.originalType,c=t.parentName,l=s(t,["components","mdxType","originalType","parentName"]),m=p(a),u=n,h=m["".concat(c,".").concat(u)]||m[u]||d[u]||r;return a?o.createElement(h,i(i({ref:e},l),{},{components:a})):o.createElement(h,i({ref:e},l))}));function h(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var r=a.length,i=new Array(r);i[0]=u;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s[m]="string"==typeof t?t:n,i[1]=s;for(var p=2;p<r;p++)i[p]=a[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1215:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=a(87462),n=(a(67294),a(3905));const r={title:"Connecting to Twilio and send SMS",description:'This page explains how to integrate Kuroco with Twilio and send SMS from Kuroco. SMS transmissions from Kuroco are compatible with Japanese domestic phone numbers starting with "090", "080", "070", and "060".'},i=void 0,s={unversionedId:"tutorials/how-to-connect-to-twillio",id:"tutorials/how-to-connect-to-twillio",title:"Connecting to Twilio and send SMS",description:'This page explains how to integrate Kuroco with Twilio and send SMS from Kuroco. SMS transmissions from Kuroco are compatible with Japanese domestic phone numbers starting with "090", "080", "070", and "060".',source:"@site/docs/tutorials/how-to-connect-to-twillio.md",sourceDirName:"tutorials",slug:"/tutorials/how-to-connect-to-twillio",permalink:"/docs/tutorials/how-to-connect-to-twillio",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/tutorials/how-to-connect-to-twillio.md",tags:[],version:"current",frontMatter:{title:"Connecting to Twilio and send SMS",description:'This page explains how to integrate Kuroco with Twilio and send SMS from Kuroco. SMS transmissions from Kuroco are compatible with Japanese domestic phone numbers starting with "090", "080", "070", and "060".'},sidebar:"documentationSidebar",previous:{title:"How to link with SendGrid",permalink:"/docs/tutorials/how-to-link-sendgrid"},next:{title:"Cloud storage integration with Firebase",permalink:"/docs/tutorials/firebase"}},c={},p=[{value:"Integrate with Twilio",id:"integrate-with-twilio",level:2},{value:"1. Register a Twillio account",id:"1-register-a-twillio-account",level:3},{value:"2. Set up two-factor authentication",id:"2-set-up-two-factor-authentication",level:3},{value:"3. Get the phone number to send from",id:"3-get-the-phone-number-to-send-from",level:3},{value:"4. make a payment",id:"4-make-a-payment",level:3},{value:"5. Get system linkage information",id:"5-get-system-linkage-information",level:3},{value:"6. Set up on Kuroco Admin panel",id:"6-set-up-on-kuroco-admin-panel",level:3},{value:"How to use linked SMS",id:"how-to-use-linked-sms",level:2},{value:"1. \u30ab\u30b9\u30bf\u30e0\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b",id:"1-\u30ab\u30b9\u30bf\u30e0\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b",level:3}],l={toc:p},m="wrapper";function d(t){let{components:e,...a}=t;return(0,n.kt)(m,(0,o.Z)({},l,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This page explains how to integrate Kuroco with Twilio and send SMS from Kuroco.",(0,n.kt)("br",{parentName:"p"}),"\n",'SMS transmissions from Kuroco are compatible with Japanese domestic phone numbers starting with "090", "080", "070", and "060". '),(0,n.kt)("h2",{id:"integrate-with-twilio"},"Integrate with Twilio"),(0,n.kt)("h3",{id:"1-register-a-twillio-account"},"1. Register a Twillio account"),(0,n.kt)("p",null,"Register your Twilio account.\nVisit Twilio's site."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.twilio.com/"},"https://www.twilio.com/")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4c2938fa8e79e71ff607b9dbab85f75b.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4c2938fa8e79e71ff607b9dbab85f75b.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,'Click "Start for free" on the top right.'),(0,n.kt)("p",null,'Fill in the required fields, check "I accept the Twilio Terms of Service..." and click the red button "Start Your Free Trial". A dialog box will appear to verify that you are not a robot. Please follow the instructions and proceed.\n',(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/385263b87cdb0db80c47b49c4ac6f02e.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/385263b87cdb0db80c47b49c4ac6f02e.jpg",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"The following screen will be displayed and a confirmation email will be sent.\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/26df0a9209535d5a17287ae7b9db4a80.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/26df0a9209535d5a17287ae7b9db4a80.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,'Please check your email and open the email sent by Twilio. Click the red button in the email body that says "Verify Your Email".\n',(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/80e2313518a4b005078c4988a0a9d362.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/80e2313518a4b005078c4988a0a9d362.png",alt:"Image from Gyazo"}),"\nSign up is now complete."),(0,n.kt)("h3",{id:"2-set-up-two-factor-authentication"},"2. Set up two-factor authentication"),(0,n.kt)("p",null,"Then set up two-factor authentication. Please log in to the Twilio console screen from the URL below.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.twilio.com/login"},"https://www.twilio.com/login")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/19661a5552587b379758e034ec9fc246.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/19661a5552587b379758e034ec9fc246.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Please enter your mobile phone number to set up two-factor authentication.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e632843bc2191c1aa3e0773ce60d6aa7.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e632843bc2191c1aa3e0773ce60d6aa7.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Check the SMS sent to your mobile device and enter the verification code.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/208a5c655def7f24654bf30d93de2f6e.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/208a5c655def7f24654bf30d93de2f6e.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"The recovery code will be displayed as shown below, so please make a note of it. You can use it when you lose your mobile device.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4ee783714f98b8a06f344da980a41c76.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4ee783714f98b8a06f344da980a41c76.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Enter your phone number again to verify your identity.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/f8057beadfc2ed40f88f612b368c0106.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/f8057beadfc2ed40f88f612b368c0106.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"The settings of two-factor authentication is now complete.\nThe survey from Twilio will be displayed. Answer about the service you're looking to build using Twilio products.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/5b4b9b648bb56b819259f4fce24afa24.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/5b4b9b648bb56b819259f4fce24afa24.png",alt:"Image from Gyazo"})),(0,n.kt)("h3",{id:"3-get-the-phone-number-to-send-from"},"3. Get the phone number to send from"),(0,n.kt)("p",null,'Instructions for getting started with Twilio products are displayed. Click the blue button that says "Get a Twilio phone number" to get one USA or Canada phone number. This number will be used as the source phone number when sending SMS using Twilio.',(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/784b92cddc4b46343f95f9783513b219.jpg?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/784b92cddc4b46343f95f9783513b219.jpg",alt:"Image from Gyazo"})),(0,n.kt)("h3",{id:"4-make-a-payment"},"4. make a payment"),(0,n.kt)("p",null,'Next, click "Upgrade" in the header and proceed with payment.',(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/8961a3822bbcb7f046ae5bd3d3ae42e4.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/8961a3822bbcb7f046ae5bd3d3ae42e4.png",alt:"Image from Gyazo"})),(0,n.kt)("h3",{id:"5-get-system-linkage-information"},"5. Get system linkage information"),(0,n.kt)("p",null,'Click on the part that says "My first Twilio account" in the header to go to the console top page. From the section labeled "Account Info," please copy and keep the following values.'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Account SID"),(0,n.kt)("li",{parentName:"ul"},"Auth Token"),(0,n.kt)("li",{parentName:"ul"},"My Twilio Phone number")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/fdf41fbef7aaf6fd97b2bfad2b40c52f.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/fdf41fbef7aaf6fd97b2bfad2b40c52f.png",alt:"Image from Gyazo"})),(0,n.kt)("h3",{id:"6-set-up-on-kuroco-admin-panel"},"6. Set up on Kuroco Admin panel"),(0,n.kt)("p",null,"Next, access your Kuroco admin panel and click","[External system integration]"," > ","[Text(SMS)]"," on the side menu.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/022ed404b5216ae907507392c561b85b.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/022ed404b5216ae907507392c561b85b.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,'Check "Enable" for ',"[Text(SMS)]"," and enter Account SID, Auth Token and My Twilio Phone number you saved previously.",(0,n.kt)("br",{parentName:"p"}),"\n","Then click ","[Update]",".",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/4a01717e58080e08bc5ef2828568daef.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/4a01717e58080e08bc5ef2828568daef.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"The settings on admin panel is now complete."),(0,n.kt)("h2",{id:"how-to-use-linked-sms"},"How to use linked SMS"),(0,n.kt)("p",null,"To send SMS from Kuroco, you need to write an SMS sending program in your custom process. Originally, some timing such as batch processing or a specific ",(0,n.kt)("a",{parentName:"p",href:"/docs/reference/pre-processing/"},"Post-process")," is used as a trigger to call custom function.",(0,n.kt)("br",{parentName:"p"}),"\n","Here, we will implement custom function for testing and try to execute it manually."),(0,n.kt)("h3",{id:"1-\u30ab\u30b9\u30bf\u30e0\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b"},"1. \u30ab\u30b9\u30bf\u30e0\u51e6\u7406\u3092\u8ffd\u52a0\u3059\u308b"),(0,n.kt)("p",null,"Click ","[Operation]"," > ","[Custom function]"," on the side menu.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/7c5a03e965932dd572576aec5a53ca5c.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/7c5a03e965932dd572576aec5a53ca5c.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Click ","[Add]"," on the top right of the page.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/db43a6680e369a06d2b2ad5bda7e5d0a.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/db43a6680e369a06d2b2ad5bda7e5d0a.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Enter as follows and click ","[Add]",".\n|item |value |\n| :--- | :--- |\n|Title|Enter any name. (",(0,n.kt)("inlineCode",{parentName:"p"},"SMS sending test")," in this tutorial)|\n|Category|Select the type of custom processing (",(0,n.kt)("inlineCode",{parentName:"p"},"uncategorized")," in this tutorial)|\n|Identifier|Enter the identifier to be used when calling this custom process from another. (",(0,n.kt)("inlineCode",{parentName:"p"},"sms_test")," in this tutorial)|"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/e261db269105009b000ef1a7e78c2a4f.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/e261db269105009b000ef1a7e78c2a4f.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,'Please implement the custom processing as below and click the "Test" button. Please write the recipient\'s phone number without hyphens, such as 090xxxxxxxx, for the part written as "(phone number)".'),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},'Sending SMS from Kuroco is limited to phone numbers in Japan starting with "090", "080", "070", "060".')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-php"},'{sendmail \n    var=result \n    to="(phone number)@twilio.r-cms.jp" \n    subject="Test" \n    contents="This is sent from Kuroco"}\n')),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/2d965a6dc9317c729e76ea0cf22f01f8.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/2d965a6dc9317c729e76ea0cf22f01f8.png",alt:"Image from Gyazo"})),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},'You cannot send SMS to any phone number from Twilio during the trial period. If you want to test sending SMS during the trial period, you need to register the destination phone number in "Verified Caller IDs".')),(0,n.kt)("p",null,"The test is successful if the message below arrives on the terminal.",(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/f9857e6ee5d51d6c9fdc4a8e5d99f0e4.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/f9857e6ee5d51d6c9fdc4a8e5d99f0e4.png",alt:"Image from Gyazo"})),(0,n.kt)("p",null,"Now you can send SMS by linking Kuroco and Twilio."))}d.isMDXComponent=!0}}]);