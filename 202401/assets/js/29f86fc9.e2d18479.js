"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[53752],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=o.createContext({}),l=function(e){var t=o.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return o.createElement(d.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(n),u=a,f=p["".concat(d,".").concat(u)]||p[u]||m[u]||r;return n?o.createElement(f,i(i({ref:t},c),{},{components:n})):o.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},13433:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(67294);function a(e){let{faqs:t=[]}=e;if(0===(Array.isArray(t)?t.filter((e=>e.question&&e.answer)):[]).length)return null;const n={"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map((e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}})))},a=JSON.stringify(n,null,2);return o.createElement("script",{type:"application/ld+json"},a)}},84272:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var o=n(87462),a=(n(67294),n(3905)),r=n(13433);const i={title:"How can I add all the information of the content selected in the relational data selection to the response?",description:"You can create a custom process to retrieve the information of the corresponding content from the ID of the relational data in the response, and add it to the response of endpoint by setting it as a post-processing of the endpoint.",category:"howto"},s=void 0,d={unversionedId:"faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response",id:"faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response",title:"How can I add all the information of the content selected in the relational data selection to the response?",description:"You can create a custom process to retrieve the information of the corresponding content from the ID of the relational data in the response, and add it to the response of endpoint by setting it as a post-processing of the endpoint.",source:"@site/docs/faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response.mdx",sourceDirName:"faq",slug:"/faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response",permalink:"/docs/faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/faq/add-all-information-on-the-content-selected-in-the-relational-data-selection-to-the-response.mdx",tags:[],version:"current",frontMatter:{title:"How can I add all the information of the content selected in the relational data selection to the response?",description:"You can create a custom process to retrieve the information of the corresponding content from the ID of the relational data in the response, and add it to the response of endpoint by setting it as a post-processing of the endpoint.",category:"howto"},sidebar:"faqSidebar",previous:{title:"About profile API",permalink:"/docs/faq/about-profile-api"},next:{title:"After linking with SendGrid, URL in e-mail is replaced",permalink:"/docs/faq/after-linking-with-sendgrid-url-in-email-is-replaced"}},l={},c=[{value:"Set up custom function",id:"set-up-custom-function",level:2},{value:"If <code>module_type</code> is <code>topics</code>",id:"if-module_type-is-topics",level:3},{value:"If <code>module_type</code> is <code>member</code>",id:"if-module_type-is-member",level:3},{value:"If <code>module_type</code> is <code>form</code>",id:"if-module_type-is-form",level:3},{value:"Set to the post-processing of endpoint",id:"set-to-the-post-processing-of-endpoint",level:2},{value:"Operation check",id:"operation-check",level:2},{value:"Related documents",id:"related-documents",level:2}],p={toc:c},m="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(r.Z,{faqs:[{question:"How can I add all the information of the content selected in the relational data selection to the response?",answer:"You can create a custom process to retrieve the information of the corresponding content from the ID of the relational data in the response, and add it to the response of endpoint by setting it as a post-processing of the endpoint."}],mdxType:"StructuredDataFaqs"}),(0,a.kt)("p",null,"You can create a custom process to retrieve the information of the corresponding content from the ID of the relational data in the response, and add it to the response of endpoint by setting it as a post-processing of the endpoint.  "),(0,a.kt)("h2",{id:"set-up-custom-function"},"Set up custom function"),(0,a.kt)("p",null,"Create a function with the following code on ",(0,a.kt)("a",{parentName:"p",href:"/docs/management/function/#custom-function-editor"},"custom function editor")," page.  "),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Below code assumes that you set relational data selection to ",(0,a.kt)("inlineCode",{parentName:"p"},"ext_1")," item.",(0,a.kt)("br",{parentName:"p"}),"\n","Change it according to your own settings.")),(0,a.kt)("h3",{id:"if-module_type-is-topics"},"If ",(0,a.kt)("inlineCode",{parentName:"h3"},"module_type")," is ",(0,a.kt)("inlineCode",{parentName:"h3"},"topics")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-smarty"},"{*  Endpoint settings parameter *}\n{assign_array var='method_params'           values=''}\n{assign       var='method_params.topics_id' value=$json.details.ext_1.module_id}\n{api_method\n    var='response'\n    model='Topics'\n    method='details'\n    version='1'\n    method_params=$method_params}\n\n{append var='json.details.ext_1' value=$response.details index='details'}\n{assign var='processed_json'     value=$json}\n")),(0,a.kt)("h3",{id:"if-module_type-is-member"},"If ",(0,a.kt)("inlineCode",{parentName:"h3"},"module_type")," is ",(0,a.kt)("inlineCode",{parentName:"h3"},"member")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-smarty"},"{*  Endpoint settings parameter *}\n{assign_array var='method_params'           values=''}\n{assign       var='method_params.member_id' value=$json.details.ext_1.module_id}\n{api_method\n    var='response'\n    model='Member'\n    method='details'\n    version='1'\n    method_params=$method_params}\n\n{append var='json.details.ext_1' value=$response.details index='details'}\n{assign var='processed_json'     value=$json}\n")),(0,a.kt)("h3",{id:"if-module_type-is-form"},"If ",(0,a.kt)("inlineCode",{parentName:"h3"},"module_type")," is ",(0,a.kt)("inlineCode",{parentName:"h3"},"form")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-smarty"},"{*  Endpoint settings parameter *}\n{assign_array var='method_params'            values=''}\n{assign       var='method_params.inquiry_id' value=$json.details.ext_1.module_id}\n{api_method\n    var='response'\n    model='InquiryForm'\n    method='details'\n    version='1'\n    method_params=$method_params}\n\n{append var='json.details.ext_1' value=$response.details index='details'}\n{assign var='processed_json'     value=$json}\n")),(0,a.kt)("h2",{id:"set-to-the-post-processing-of-endpoint"},"Set to the post-processing of endpoint"),(0,a.kt)("p",null,"Set the custom function you created to the desired endpoint's post-processing.  "),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/2e9707af6c946ec26ddca9d1bbc906c0.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/2e9707af6c946ec26ddca9d1bbc906c0.png",alt:"Image from Gyazo"})),(0,a.kt)("h2",{id:"operation-check"},"Operation check"),(0,a.kt)("p",null,"If you check the endpoint response in Swagger UI, you can see that the details of the related information linked with the item name ",(0,a.kt)("inlineCode",{parentName:"p"},"details")," are added under ",(0,a.kt)("inlineCode",{parentName:"p"},"ext_1")," as shown below.  "),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://t.gyazo.com/teams/diverta/d3aa0e0a1e88752b823e43a0ee1dedb2.png?width=600","data-zoom-src":"https://t.gyazo.com/teams/diverta/d3aa0e0a1e88752b823e43a0ee1dedb2.png",alt:"Image from Gyazo"})),(0,a.kt)("h2",{id:"related-documents"},"Related documents"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/reference/post-processing/"},"post-processing")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/faq/how-to-request-kuroco-api-from-smarty-function/"},"Can I call Kuroco's API from custom function?"))))}u.isMDXComponent=!0}}]);