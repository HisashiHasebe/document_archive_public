"use strict";(self.webpackChunkkurokuro=self.webpackChunkkurokuro||[]).push([[94486],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(n),m=a,h=c["".concat(l,".").concat(m)]||c[m]||u[m]||i;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:a,o[1]=s;for(var d=2;d<i;d++)o[d]=n[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},13433:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294);function a(e){let{faqs:t=[]}=e;if(0===(Array.isArray(t)?t.filter((e=>e.question&&e.answer)):[]).length)return null;const n={"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map((e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}})))},a=JSON.stringify(n,null,2);return r.createElement("script",{type:"application/ld+json"},a)}},56799:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(87462),a=(n(67294),n(3905)),i=n(13433);const o={title:"What is kuroco_front.json?",description:"kuroco_front.json is a required JSON file for KurocoFront that enables you to configure the redirect, basic authentication, and error page settings.",category:"system"},s=void 0,l={unversionedId:"faq/what-is-kuroco_front_json",id:"faq/what-is-kuroco_front_json",title:"What is kuroco_front.json?",description:"kuroco_front.json is a required JSON file for KurocoFront that enables you to configure the redirect, basic authentication, and error page settings.",source:"@site/docs/faq/what-is-kuroco_front_json.mdx",sourceDirName:"faq",slug:"/faq/what-is-kuroco_front_json",permalink:"/docs/faq/what-is-kuroco_front_json",draft:!1,editUrl:"https://github.com/diverta/kuroco-documents/tree/main/packages/create-docusaurus/templates/shared/docs/faq/what-is-kuroco_front_json.mdx",tags:[],version:"current",frontMatter:{title:"What is kuroco_front.json?",description:"kuroco_front.json is a required JSON file for KurocoFront that enables you to configure the redirect, basic authentication, and error page settings.",category:"system"},sidebar:"faqSidebar",previous:{title:"What file formats does the file manager support?",permalink:"/docs/faq/what-file-formats-does-the-file-manager-support"},next:{title:"What is the Kuroco's support status for my OS version?",permalink:"/docs/faq/what-is-kurocos-support-status-for-my-os-version"}},d={},p=[{value:"Location",id:"location",level:2},{value:"Example code",id:"example-code",level:2},{value:"Functions in <code>kuroco_front.json</code>",id:"functions-in-kuroco_frontjson",level:2},{value:"<code>rewrites</code>: URL rewrite settings",id:"rewrites-url-rewrite-settings",level:3},{value:"<code>redirects</code>: Redirect settings",id:"redirects-redirect-settings",level:3},{value:"<code>redirects_by_ie</code>: Redirect when accessed via IE",id:"redirects_by_ie-redirect-when-accessed-via-ie",level:3},{value:"<code>basic</code>: Basic access authentication",id:"basic-basic-access-authentication",level:3},{value:"<code>ip_restrictions</code>: IP address restrictions",id:"ip_restrictions-ip-address-restrictions",level:3},{value:"<code>ip_restricted_maintenance</code>: IP address restrictions for the maintenance page",id:"ip_restricted_maintenance-ip-address-restrictions-for-the-maintenance-page",level:3},{value:"<code>stale_while_revalidate</code>: Deliver expired content from the CDN",id:"stale_while_revalidate-deliver-expired-content-from-the-cdn",level:3},{value:"<code>error_page</code>: Error page settings",id:"error_page-error-page-settings",level:3},{value:"Note",id:"note",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.Z,{faqs:[{question:"What is kuroco_front.json?",answer:"kuroco_front.json is a required JSON file for KurocoFront that enables you to configure the redirect, basic authentication, and error page settings."}],mdxType:"StructuredDataFaqs"}),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"kuroco_front.json")," is a required JSON file for KurocoFront that enables you to configure the redirect, basic authentication, and error page settings."),(0,a.kt)("h2",{id:"location"},"Location"),(0,a.kt)("p",null,"When using KurocoFront, place ",(0,a.kt)("inlineCode",{parentName:"p"},"kuroco_front.json")," in the root folder of the output directory (directly under the public directory) after building. The file will not be made public."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"When using Nuxt.js, place the file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"/static")," directory.")),(0,a.kt)("h2",{id:"example-code"},"Example code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"[kuroco_front.json]","[kuroco_front.json]":!0},'{\n    "rewrites": [\n        {\n          "source": ".*",\n          "destination": "/index.html"\n        }\n    ],\n    "redirects": [\n        {\n          "source": "^/old_path/",\n          "destination": "/new_path/"\n        },\n        {\n          "source": "^/old_articles/([^/]+?)/",\n          "destination": "/new_articles/$1/"\n        },\n        {\n          "source": "^/old_articles2/([^/]+?)/",\n          "destination": "status:404"\n        },\n        {\n          "source": "^/articles2/([^/]+?)/",\n          "destination": "status:302:/temp_articles2/$1/"\n        }\n    ],\n    "redirects_by_ie": [\n        {\n          "source": ".*",\n          "destination": "/ie/"\n        }\n    ],\n    "basic":[\n        "user:pass",\n        "user2:pass2"\n    ],\n    "ip_restrictions":[\n        "111.111.111.111/32",\n        "222.222.222.222/32"\n    ],\n    "stale_while_revalidate":"86400",\n    "error_page": {\n        "status404":"/404.html",\n        "status401":"/401.html",\n        "status_ip_503":"/ip_503.html"\n    }\n}\n\n')),(0,a.kt)("h2",{id:"functions-in-kuroco_frontjson"},"Functions in ",(0,a.kt)("inlineCode",{parentName:"h2"},"kuroco_front.json")),(0,a.kt)("p",null,"The following sections explain the functions in the example code above in more detail."),(0,a.kt)("h3",{id:"rewrites-url-rewrite-settings"},(0,a.kt)("inlineCode",{parentName:"h3"},"rewrites"),": URL rewrite settings"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"rewrites": [\n        {\n          "source": ".*",\n          "destination": "/index.html"\n        }\n    ],\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Expression"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"source")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the URL to be rewritten using regular expressions."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},".*"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"destination")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the rewrite path."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/index.html"))))),(0,a.kt)("p",null,"The value ",(0,a.kt)("inlineCode",{parentName:"p"},".*")," is valid even when the file does not exist. Multiple values are allowed. Execute in order from the top."),(0,a.kt)("h3",{id:"redirects-redirect-settings"},(0,a.kt)("inlineCode",{parentName:"h3"},"redirects"),": Redirect settings"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"redirects": [\n        {\n          "source": "/old_path/",\n          "destination": "/new_path/"\n        }\n    ],\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Expression"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"source")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the URL to be redirected using regular expressions."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/old_path/"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"destination")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the redirect path. If you set a path starting in ",(0,a.kt)("inlineCode",{parentName:"td"},"status:302:"),", it will generate a ",(0,a.kt)("inlineCode",{parentName:"td"},"302 Found")," redirect status code as the response. A path starting in ",(0,a.kt)("inlineCode",{parentName:"td"},"status:404")," will result in a ",(0,a.kt)("inlineCode",{parentName:"td"},"404 Not Found")," status."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/new_path/"))))),(0,a.kt)("p",null,"The value ",(0,a.kt)("inlineCode",{parentName:"p"},".*")," is valid even when the file does not exist. Multiple values are allowed. Execute in order from the top."),(0,a.kt)("p",null,"The redirection process retains the query string. You can specify a query string for ",(0,a.kt)("inlineCode",{parentName:"p"},"destination")," but not for ",(0,a.kt)("inlineCode",{parentName:"p"},"source"),"."),(0,a.kt)("h3",{id:"redirects_by_ie-redirect-when-accessed-via-ie"},(0,a.kt)("inlineCode",{parentName:"h3"},"redirects_by_ie"),": Redirect when accessed via IE"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'    "redirects_by_ie": [\n        {\n          "source": ".*",\n          "destination": "/ie/"\n        }\n    ],\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Expression"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"source")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the URL to be redirected using regular expressions."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},".*"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"destination")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Describe the redirect path."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/ie/"))))),(0,a.kt)("p",null,"This type of redirect is enabled when the UserAgent contains MSIE or Trident as a string. It does not verify the existence of the file, and multiple values are allowed. Execute in order from the top."),(0,a.kt)("h3",{id:"basic-basic-access-authentication"},(0,a.kt)("inlineCode",{parentName:"h3"},"basic"),": Basic access authentication"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"basic":[\n    "user:pass",\n    "user2:pass2"\n],\n')),(0,a.kt)("p",null,"Join the ID and password as a set using ",(0,a.kt)("inlineCode",{parentName:"p"},":"),". For example:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ID:user, password: pass")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ID: user2, password: pass2"),"  ")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Be careful of password security here, as it is entered as plain text. ")),(0,a.kt)("p",null,"Multiple values are allowed."),(0,a.kt)("h3",{id:"ip_restrictions-ip-address-restrictions"},(0,a.kt)("inlineCode",{parentName:"h3"},"ip_restrictions"),": IP address restrictions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"ip_restrictions":[\n     "111.111.111.111/32",\n     "222.222.222.222/32"\n],\n')),(0,a.kt)("p",null,"Set the IP address. Subnet mask is also available in slash notation. Multiple values are allowed."),(0,a.kt)("h3",{id:"ip_restricted_maintenance-ip-address-restrictions-for-the-maintenance-page"},(0,a.kt)("inlineCode",{parentName:"h3"},"ip_restricted_maintenance"),": IP address restrictions for the maintenance page"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"ip_restricted_maintenance":[\n     "111.111.111.111/32",\n     "222.222.222.222/32"\n],\n')),(0,a.kt)("p",null,"The maintenance page is accessible to all except the specified IP addresses. Subnet mask is also available in slash notation. Multiple values are allowed."),(0,a.kt)("h3",{id:"stale_while_revalidate-deliver-expired-content-from-the-cdn"},(0,a.kt)("inlineCode",{parentName:"h3"},"stale_while_revalidate"),": Deliver expired content from the CDN"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"stale_while_revalidate":"86400",\n')),(0,a.kt)("p",null,"Adding ",(0,a.kt)("inlineCode",{parentName:"p"},"stale_while_revalidate")," to the cache control header enables delivery of expired content on the CDN side. When this value is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"86400"),", the content will be retained for one day (86400 seconds) after the CDN cache is cleared, and the the expired content will be delivered on the first access after the cache clearing. "),(0,a.kt)("p",null,"Regenerating the cache will prevent response delays during this time. This is enabled for HTTP 200 reponses."),(0,a.kt)("h3",{id:"error_page-error-page-settings"},(0,a.kt)("inlineCode",{parentName:"h3"},"error_page"),": Error page settings"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"error_page": {\n    "status404":"/404.html",\n    "status401":"/401.html"\n    },\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Expression"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"status404")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Path of the response HTML to 404 errors."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/404.html"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"status403")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Path of the response HTML to 403 errors."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/403.html"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"status401")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Path of the response HTML to 401 errors."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/401.html"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"status_ip_503")),(0,a.kt)("td",{parentName:"tr",align:"left"},"Path of the response HTML to the maintenance page (not accessible to specified IP addresses)."),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"/ip_503.html"))))),(0,a.kt)("h2",{id:"note"},"Note"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If ",(0,a.kt)("inlineCode",{parentName:"li"},"kuroco_front.json"),' is not found or if the JSON format is invalid, a "404 Not Found (CONFIG FILE NOT FOUND)" message will be displayed.'),(0,a.kt)("li",{parentName:"ul"},'For cases of authentication failure due to IP restrictions, a "403 Forbidden" error or the ',(0,a.kt)("inlineCode",{parentName:"li"},"error_page")," content will be displayed.  "),(0,a.kt)("li",{parentName:"ul"},'Since browsing restrictions are based on the user\'s Kuroco ID and password, the "Authentication required" message or the ',(0,a.kt)("inlineCode",{parentName:"li"},"error_page")," content will be displayed in cases of authentication failures."),(0,a.kt)("li",{parentName:"ul"},"You can use the GitHub Actions build file to modify the contents of ",(0,a.kt)("inlineCode",{parentName:"li"},"kuroco_front.json")," for all the branches of the same repository (e.g., to set up basic authentication in the development environment). See: ",(0,a.kt)("a",{parentName:"li",href:"https://kuroco.app/docs/tutorials/connect-to-github-with-kuroco-front/#githubactions%E7%94%A8build%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BF%AE%E6%AD%A3"},"How to deploy the source from GitHub to KurocoFront")," for details.")))}m.isMDXComponent=!0}}]);